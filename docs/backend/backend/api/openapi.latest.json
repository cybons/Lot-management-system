{
  "components": {
    "schemas": {
      "ActualCounts": {
        "description": "実際のDB件数（投入後）.",
        "properties": {
          "allocations": {
            "title": "Allocations",
            "type": "integer"
          },
          "customers": {
            "title": "Customers",
            "type": "integer"
          },
          "delivery_places": {
            "title": "Delivery Places",
            "type": "integer"
          },
          "forecasts": {
            "title": "Forecasts",
            "type": "integer"
          },
          "lots": {
            "title": "Lots",
            "type": "integer"
          },
          "order_lines": {
            "title": "Order Lines",
            "type": "integer"
          },
          "orders": {
            "title": "Orders",
            "type": "integer"
          },
          "products": {
            "title": "Products",
            "type": "integer"
          },
          "stock_movements": {
            "title": "Stock Movements",
            "type": "integer"
          },
          "suppliers": {
            "title": "Suppliers",
            "type": "integer"
          },
          "warehouses": {
            "title": "Warehouses",
            "type": "integer"
          }
        },
        "required": [
          "customers",
          "suppliers",
          "delivery_places",
          "products",
          "forecasts",
          "warehouses",
          "lots",
          "stock_movements",
          "orders",
          "order_lines",
          "allocations"
        ],
        "title": "ActualCounts",
        "type": "object"
      },
      "AllocatableLotItem": {
        "description": "診断用引当可能ロット項目.",
        "properties": {
          "allocated_qty": {
            "title": "Allocated Qty",
            "type": "number"
          },
          "current_quantity": {
            "title": "Current Quantity",
            "type": "number"
          },
          "expiry_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expiry Date"
          },
          "free_qty": {
            "title": "Free Qty",
            "type": "number"
          },
          "is_locked": {
            "default": false,
            "title": "Is Locked",
            "type": "boolean"
          },
          "last_updated": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Updated"
          },
          "lot_id": {
            "title": "Lot Id",
            "type": "integer"
          },
          "lot_number": {
            "title": "Lot Number",
            "type": "string"
          },
          "product_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Product Code"
          },
          "product_id": {
            "title": "Product Id",
            "type": "integer"
          },
          "warehouse_id": {
            "title": "Warehouse Id",
            "type": "integer"
          }
        },
        "required": [
          "lot_id",
          "lot_number",
          "product_id",
          "warehouse_id",
          "free_qty",
          "current_quantity",
          "allocated_qty"
        ],
        "title": "AllocatableLotItem",
        "type": "object"
      },
      "AllocatableLotsResponse": {
        "description": "診断用引当可能ロット一覧レスポンス.",
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/AllocatableLotItem"
            },
            "title": "Items",
            "type": "array"
          },
          "total": {
            "default": 0,
            "title": "Total",
            "type": "integer"
          }
        },
        "title": "AllocatableLotsResponse",
        "type": "object"
      },
      "CandidateLotItem": {
        "description": "候補ロット項目（product_id基準）.",
        "properties": {
          "allocated_qty": {
            "title": "Allocated Qty",
            "type": "number"
          },
          "current_quantity": {
            "title": "Current Quantity",
            "type": "number"
          },
          "expiry_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expiry Date"
          },
          "free_qty": {
            "title": "Free Qty",
            "type": "number"
          },
          "last_updated": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Updated"
          },
          "lot_id": {
            "title": "Lot Id",
            "type": "integer"
          },
          "lot_number": {
            "title": "Lot Number",
            "type": "string"
          },
          "product_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Product Code"
          },
          "product_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Product Id"
          },
          "warehouse_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warehouse Id"
          }
        },
        "required": [
          "lot_id",
          "lot_number",
          "free_qty",
          "current_quantity",
          "allocated_qty"
        ],
        "title": "CandidateLotItem",
        "type": "object"
      },
      "CandidateLotsResponse": {
        "description": "候補ロット一覧レスポンス.",
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/CandidateLotItem"
            },
            "title": "Items",
            "type": "array"
          },
          "total": {
            "default": 0,
            "title": "Total",
            "type": "integer"
          }
        },
        "title": "CandidateLotsResponse",
        "type": "object"
      },
      "CapCheckResult": {
        "description": "上限チェック結果.",
        "properties": {
          "destinations": {
            "description": "納品先数チェック（OK/NG）",
            "title": "Destinations",
            "type": "string"
          },
          "lot_split": {
            "description": "ロット分割チェック（OK/NG）",
            "title": "Lot Split",
            "type": "string"
          },
          "order_lines": {
            "description": "受注明細行チェック（OK/NG）",
            "title": "Order Lines",
            "type": "string"
          }
        },
        "required": [
          "lot_split",
          "destinations",
          "order_lines"
        ],
        "title": "CapCheckResult",
        "type": "object"
      },
      "CustomerCreate": {
        "properties": {
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          },
          "customer_code": {
            "title": "Customer Code",
            "type": "string"
          },
          "customer_name": {
            "title": "Customer Name",
            "type": "string"
          }
        },
        "required": [
          "customer_code",
          "customer_name"
        ],
        "title": "CustomerCreate",
        "type": "object"
      },
      "CustomerResponse": {
        "properties": {
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          },
          "customer_code": {
            "title": "Customer Code",
            "type": "string"
          },
          "customer_name": {
            "title": "Customer Name",
            "type": "string"
          }
        },
        "required": [
          "customer_code",
          "customer_name"
        ],
        "title": "CustomerResponse",
        "type": "object"
      },
      "CustomerUpdate": {
        "properties": {
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          },
          "customer_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Name"
          }
        },
        "title": "CustomerUpdate",
        "type": "object"
      },
      "DashboardStatsResponse": {
        "description": "ダッシュボード統計レスポンス.",
        "properties": {
          "total_orders": {
            "title": "Total Orders",
            "type": "integer"
          },
          "total_stock": {
            "title": "Total Stock",
            "type": "number"
          },
          "unallocated_orders": {
            "title": "Unallocated Orders",
            "type": "integer"
          }
        },
        "required": [
          "total_stock",
          "total_orders",
          "unallocated_orders"
        ],
        "title": "DashboardStatsResponse",
        "type": "object"
      },
      "DragAssignRequest": {
        "properties": {
          "allocate_qty": {
            "title": "Allocate Qty",
            "type": "number"
          },
          "lot_id": {
            "title": "Lot Id",
            "type": "integer"
          },
          "order_line_id": {
            "title": "Order Line Id",
            "type": "integer"
          }
        },
        "required": [
          "order_line_id",
          "lot_id",
          "allocate_qty"
        ],
        "title": "DragAssignRequest",
        "type": "object"
      },
      "FefoCommitResponse": {
        "properties": {
          "created_allocation_ids": {
            "items": {
              "type": "integer"
            },
            "title": "Created Allocation Ids",
            "type": "array"
          },
          "order_id": {
            "title": "Order Id",
            "type": "integer"
          },
          "preview": {
            "$ref": "#/components/schemas/FefoPreviewResponse"
          }
        },
        "required": [
          "order_id",
          "preview"
        ],
        "title": "FefoCommitResponse",
        "type": "object"
      },
      "FefoLineAllocation": {
        "properties": {
          "allocations": {
            "items": {
              "$ref": "#/components/schemas/FefoLotAllocation"
            },
            "title": "Allocations",
            "type": "array"
          },
          "already_allocated_qty": {
            "title": "Already Allocated Qty",
            "type": "number"
          },
          "next_div": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Div"
          },
          "order_line_id": {
            "title": "Order Line Id",
            "type": "integer"
          },
          "product_code": {
            "title": "Product Code",
            "type": "string"
          },
          "product_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Product Id"
          },
          "required_qty": {
            "title": "Required Qty",
            "type": "number"
          },
          "warehouse_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warehouse Id"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "title": "Warnings",
            "type": "array"
          }
        },
        "required": [
          "order_line_id",
          "product_code",
          "required_qty",
          "already_allocated_qty"
        ],
        "title": "FefoLineAllocation",
        "type": "object"
      },
      "FefoLotAllocation": {
        "properties": {
          "allocate_qty": {
            "title": "Allocate Qty",
            "type": "number"
          },
          "expiry_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expiry Date"
          },
          "lot_id": {
            "title": "Lot Id",
            "type": "integer"
          },
          "lot_number": {
            "title": "Lot Number",
            "type": "string"
          },
          "receipt_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Receipt Date"
          }
        },
        "required": [
          "lot_id",
          "lot_number",
          "allocate_qty"
        ],
        "title": "FefoLotAllocation",
        "type": "object"
      },
      "FefoPreviewRequest": {
        "properties": {
          "order_id": {
            "title": "Order Id",
            "type": "integer"
          }
        },
        "required": [
          "order_id"
        ],
        "title": "FefoPreviewRequest",
        "type": "object"
      },
      "FefoPreviewResponse": {
        "properties": {
          "lines": {
            "items": {
              "$ref": "#/components/schemas/FefoLineAllocation"
            },
            "title": "Lines",
            "type": "array"
          },
          "order_id": {
            "title": "Order Id",
            "type": "integer"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "title": "Warnings",
            "type": "array"
          }
        },
        "required": [
          "order_id"
        ],
        "title": "FefoPreviewResponse",
        "type": "object"
      },
      "ForecastActivateRequest": {
        "description": "バージョンアクティブ化リクエスト.",
        "properties": {
          "deactivate_others": {
            "default": true,
            "title": "Deactivate Others",
            "type": "boolean"
          },
          "version_no": {
            "title": "Version No",
            "type": "integer"
          }
        },
        "required": [
          "version_no"
        ],
        "title": "ForecastActivateRequest",
        "type": "object"
      },
      "ForecastActivateResponse": {
        "description": "バージョンアクティブ化レスポンス.",
        "properties": {
          "activated_version": {
            "title": "Activated Version",
            "type": "integer"
          },
          "deactivated_versions": {
            "default": [],
            "items": {
              "type": "integer"
            },
            "title": "Deactivated Versions",
            "type": "array"
          },
          "message": {
            "title": "Message",
            "type": "string"
          },
          "success": {
            "title": "Success",
            "type": "boolean"
          }
        },
        "required": [
          "success",
          "message",
          "activated_version"
        ],
        "title": "ForecastActivateResponse",
        "type": "object"
      },
      "ForecastBulkImportRequest": {
        "description": "一括インポートリクエスト.",
        "properties": {
          "deactivate_old_version": {
            "default": true,
            "title": "Deactivate Old Version",
            "type": "boolean"
          },
          "forecasts": {
            "items": {
              "$ref": "#/components/schemas/ForecastCreate"
            },
            "title": "Forecasts",
            "type": "array"
          },
          "source_system": {
            "default": "external",
            "title": "Source System",
            "type": "string"
          },
          "version_issued_at": {
            "format": "date-time",
            "title": "Version Issued At",
            "type": "string"
          },
          "version_no": {
            "title": "Version No",
            "type": "integer"
          }
        },
        "required": [
          "version_no",
          "version_issued_at",
          "forecasts"
        ],
        "title": "ForecastBulkImportRequest",
        "type": "object"
      },
      "ForecastBulkImportResponse": {
        "description": "一括インポートレスポンス.",
        "properties": {
          "error_count": {
            "title": "Error Count",
            "type": "integer"
          },
          "error_details": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Details"
          },
          "imported_count": {
            "title": "Imported Count",
            "type": "integer"
          },
          "message": {
            "title": "Message",
            "type": "string"
          },
          "skipped_count": {
            "title": "Skipped Count",
            "type": "integer"
          },
          "success": {
            "title": "Success",
            "type": "boolean"
          },
          "version_no": {
            "title": "Version No",
            "type": "integer"
          }
        },
        "required": [
          "success",
          "message",
          "version_no",
          "imported_count",
          "skipped_count",
          "error_count"
        ],
        "title": "ForecastBulkImportResponse",
        "type": "object"
      },
      "ForecastCreate": {
        "description": "フォーキャスト作成リクエスト.",
        "properties": {
          "customer_id": {
            "title": "Customer Id",
            "type": "string"
          },
          "date_day": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Date Day"
          },
          "date_dekad_start": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Date Dekad Start"
          },
          "granularity": {
            "enum": [
              "daily",
              "dekad",
              "monthly"
            ],
            "title": "Granularity",
            "type": "string"
          },
          "is_active": {
            "default": true,
            "title": "Is Active",
            "type": "boolean"
          },
          "product_id": {
            "title": "Product Id",
            "type": "string"
          },
          "qty_forecast": {
            "title": "Qty Forecast",
            "type": "integer"
          },
          "source_system": {
            "default": "external",
            "title": "Source System",
            "type": "string"
          },
          "version_issued_at": {
            "format": "date-time",
            "title": "Version Issued At",
            "type": "string"
          },
          "version_no": {
            "default": 1,
            "title": "Version No",
            "type": "integer"
          },
          "year_month": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Year Month"
          }
        },
        "required": [
          "product_id",
          "customer_id",
          "granularity",
          "qty_forecast",
          "version_issued_at"
        ],
        "title": "ForecastCreate",
        "type": "object"
      },
      "ForecastItemOut": {
        "description": "Forecast一覧（フロント表示用）.",
        "properties": {
          "customer_code": {
            "title": "Customer Code",
            "type": "string"
          },
          "customer_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "得意先A (ダミー)",
            "title": "Customer Name"
          },
          "daily_data": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Data"
          },
          "dekad_data": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dekad Data"
          },
          "dekad_summary": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dekad Summary"
          },
          "granularity": {
            "title": "Granularity",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "monthly_data": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Data"
          },
          "product_code": {
            "title": "Product Code",
            "type": "string"
          },
          "product_name": {
            "title": "Product Name",
            "type": "string"
          },
          "supplier_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supplier Code"
          },
          "supplier_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "サプライヤーB (ダミー)",
            "title": "Supplier Name"
          },
          "unit": {
            "default": "EA",
            "title": "Unit",
            "type": "string"
          },
          "updated_at": {
            "format": "date-time",
            "title": "Updated At",
            "type": "string"
          },
          "version_history": {
            "default": [],
            "items": {
              "type": "object"
            },
            "title": "Version History",
            "type": "array"
          },
          "version_no": {
            "title": "Version No",
            "type": "integer"
          }
        },
        "required": [
          "id",
          "product_code",
          "product_name",
          "customer_code",
          "granularity",
          "version_no",
          "updated_at"
        ],
        "title": "ForecastItemOut",
        "type": "object"
      },
      "ForecastListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ForecastItemOut"
            },
            "title": "Items",
            "type": "array"
          }
        },
        "required": [
          "items"
        ],
        "title": "ForecastListResponse",
        "type": "object"
      },
      "ForecastMatchRequest": {
        "description": "マッチングリクエスト.",
        "properties": {
          "date_from": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Date From"
          },
          "date_to": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Date To"
          },
          "force_rematch": {
            "default": false,
            "title": "Force Rematch",
            "type": "boolean"
          },
          "order_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Order Id"
          },
          "order_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Order Ids"
          }
        },
        "title": "ForecastMatchRequest",
        "type": "object"
      },
      "ForecastMatchResponse": {
        "description": "マッチングレスポンス.",
        "properties": {
          "matched_lines": {
            "title": "Matched Lines",
            "type": "integer"
          },
          "message": {
            "title": "Message",
            "type": "string"
          },
          "results": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/ForecastMatchResult"
            },
            "title": "Results",
            "type": "array"
          },
          "success": {
            "title": "Success",
            "type": "boolean"
          },
          "total_lines": {
            "title": "Total Lines",
            "type": "integer"
          },
          "unmatched_lines": {
            "title": "Unmatched Lines",
            "type": "integer"
          }
        },
        "required": [
          "success",
          "message",
          "total_lines",
          "matched_lines",
          "unmatched_lines"
        ],
        "title": "ForecastMatchResponse",
        "type": "object"
      },
      "ForecastMatchResult": {
        "description": "個別マッチング結果.",
        "properties": {
          "forecast_granularity": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Forecast Granularity"
          },
          "forecast_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Forecast Id"
          },
          "forecast_match_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Forecast Match Status"
          },
          "forecast_qty": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Forecast Qty"
          },
          "line_no": {
            "title": "Line No",
            "type": "integer"
          },
          "matched": {
            "title": "Matched",
            "type": "boolean"
          },
          "order_line_id": {
            "title": "Order Line Id",
            "type": "integer"
          },
          "order_no": {
            "title": "Order No",
            "type": "string"
          },
          "product_code": {
            "title": "Product Code",
            "type": "string"
          }
        },
        "required": [
          "order_line_id",
          "order_no",
          "line_no",
          "product_code",
          "matched"
        ],
        "title": "ForecastMatchResult",
        "type": "object"
      },
      "ForecastResponse": {
        "description": "フォーキャストレスポンス.",
        "properties": {
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "customer_id": {
            "title": "Customer Id",
            "type": "string"
          },
          "date_day": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Date Day"
          },
          "date_dekad_start": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Date Dekad Start"
          },
          "forecast_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Forecast Id"
          },
          "granularity": {
            "enum": [
              "daily",
              "dekad",
              "monthly"
            ],
            "title": "Granularity",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "is_active": {
            "default": true,
            "title": "Is Active",
            "type": "boolean"
          },
          "product_id": {
            "title": "Product Id",
            "type": "string"
          },
          "qty_forecast": {
            "title": "Qty Forecast",
            "type": "integer"
          },
          "source_system": {
            "default": "external",
            "title": "Source System",
            "type": "string"
          },
          "supplier_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supplier Id"
          },
          "updated_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "version_issued_at": {
            "format": "date-time",
            "title": "Version Issued At",
            "type": "string"
          },
          "version_no": {
            "default": 1,
            "title": "Version No",
            "type": "integer"
          },
          "year_month": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Year Month"
          }
        },
        "required": [
          "created_at",
          "product_id",
          "customer_id",
          "granularity",
          "qty_forecast",
          "id",
          "version_issued_at"
        ],
        "title": "ForecastResponse",
        "type": "object"
      },
      "ForecastUpdate": {
        "description": "フォーキャスト更新リクエスト.",
        "properties": {
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          },
          "qty_forecast": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qty Forecast"
          }
        },
        "title": "ForecastUpdate",
        "type": "object"
      },
      "ForecastVersionInfo": {
        "description": "バージョン情報.",
        "properties": {
          "forecast_count": {
            "title": "Forecast Count",
            "type": "integer"
          },
          "is_active": {
            "title": "Is Active",
            "type": "boolean"
          },
          "source_system": {
            "title": "Source System",
            "type": "string"
          },
          "version_issued_at": {
            "format": "date-time",
            "title": "Version Issued At",
            "type": "string"
          },
          "version_no": {
            "title": "Version No",
            "type": "integer"
          }
        },
        "required": [
          "version_no",
          "version_issued_at",
          "is_active",
          "forecast_count",
          "source_system"
        ],
        "title": "ForecastVersionInfo",
        "type": "object"
      },
      "ForecastVersionListResponse": {
        "description": "バージョン一覧レスポンス.",
        "properties": {
          "versions": {
            "items": {
              "$ref": "#/components/schemas/ForecastVersionInfo"
            },
            "title": "Versions",
            "type": "array"
          }
        },
        "required": [
          "versions"
        ],
        "title": "ForecastVersionListResponse",
        "type": "object"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "title": "Detail",
            "type": "array"
          }
        },
        "title": "HTTPValidationError",
        "type": "object"
      },
      "LotCreate": {
        "properties": {
          "expiry_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expiry Date"
          },
          "inventory_unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inventory Unit"
          },
          "kanban_class": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Kanban Class"
          },
          "lot_number": {
            "title": "Lot Number",
            "type": "string"
          },
          "lot_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "available",
            "title": "Lot Status"
          },
          "lot_unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lot Unit"
          },
          "mfg_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mfg Date"
          },
          "product_id": {
            "title": "Product Id",
            "type": "integer"
          },
          "qc_certificate_file": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qc Certificate File"
          },
          "qc_certificate_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qc Certificate Status"
          },
          "receipt_date": {
            "format": "date",
            "title": "Receipt Date",
            "type": "string"
          },
          "received_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Received By"
          },
          "sales_unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sales Unit"
          },
          "source_doc": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Doc"
          },
          "supplier_code": {
            "title": "Supplier Code",
            "type": "string"
          },
          "supplier_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supplier Id"
          },
          "warehouse_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warehouse Id"
          }
        },
        "required": [
          "supplier_code",
          "lot_number",
          "receipt_date",
          "product_id"
        ],
        "title": "LotCreate",
        "type": "object"
      },
      "LotResponse": {
        "properties": {
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "current_quantity": {
            "default": 0.0,
            "title": "Current Quantity",
            "type": "number"
          },
          "expiry_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expiry Date"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "inventory_unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inventory Unit"
          },
          "kanban_class": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Kanban Class"
          },
          "last_updated": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Updated"
          },
          "lot_number": {
            "title": "Lot Number",
            "type": "string"
          },
          "lot_status": {
            "default": "available",
            "title": "Lot Status",
            "type": "string"
          },
          "lot_unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lot Unit"
          },
          "mfg_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mfg Date"
          },
          "product_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Product Code"
          },
          "product_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Product Id"
          },
          "product_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Product Name"
          },
          "qc_certificate_file": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qc Certificate File"
          },
          "qc_certificate_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qc Certificate Status"
          },
          "receipt_date": {
            "format": "date",
            "title": "Receipt Date",
            "type": "string"
          },
          "received_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Received By"
          },
          "sales_unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sales Unit"
          },
          "source_doc": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Doc"
          },
          "supplier_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supplier Code"
          },
          "supplier_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supplier Id"
          },
          "updated_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "warehouse_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warehouse Id"
          }
        },
        "required": [
          "created_at",
          "lot_number",
          "receipt_date",
          "id"
        ],
        "title": "LotResponse",
        "type": "object"
      },
      "LotUpdate": {
        "properties": {
          "expiry_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expiry Date"
          },
          "lot_unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lot Unit"
          },
          "mfg_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mfg Date"
          },
          "qc_certificate_file": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qc Certificate File"
          },
          "qc_certificate_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qc Certificate Status"
          },
          "warehouse_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warehouse Id"
          }
        },
        "title": "LotUpdate",
        "type": "object"
      },
      "MasterBulkLoadRequest": {
        "description": "Bulk load payload for master data.",
        "properties": {
          "customers": {
            "items": {
              "$ref": "#/components/schemas/CustomerCreate"
            },
            "title": "Customers",
            "type": "array"
          },
          "products": {
            "items": {
              "$ref": "#/components/schemas/ProductCreate"
            },
            "title": "Products",
            "type": "array"
          },
          "suppliers": {
            "items": {
              "$ref": "#/components/schemas/SupplierCreate"
            },
            "title": "Suppliers",
            "type": "array"
          },
          "warehouses": {
            "items": {
              "$ref": "#/components/schemas/WarehouseCreate"
            },
            "title": "Warehouses",
            "type": "array"
          }
        },
        "title": "MasterBulkLoadRequest",
        "type": "object"
      },
      "MasterBulkLoadResponse": {
        "description": "Bulk load result summary.",
        "properties": {
          "created": {
            "additionalProperties": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "title": "Created",
            "type": "object"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "title": "Warnings",
            "type": "array"
          }
        },
        "title": "MasterBulkLoadResponse",
        "type": "object"
      },
      "OcrOrderRecord": {
        "description": "OCR受注レコード.",
        "properties": {
          "customer_code": {
            "title": "Customer Code",
            "type": "string"
          },
          "lines": {
            "items": {
              "$ref": "#/components/schemas/OrderLineCreate"
            },
            "title": "Lines",
            "type": "array"
          },
          "order_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Order Date"
          },
          "order_no": {
            "title": "Order No",
            "type": "string"
          }
        },
        "required": [
          "order_no",
          "customer_code",
          "lines"
        ],
        "title": "OcrOrderRecord",
        "type": "object"
      },
      "OcrSubmissionRequest": {
        "description": "OCR取込リクエスト.",
        "properties": {
          "file_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Name"
          },
          "operator": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Operator"
          },
          "records": {
            "items": {
              "$ref": "#/components/schemas/OcrOrderRecord"
            },
            "title": "Records",
            "type": "array"
          },
          "schema_version": {
            "default": "1.0.0",
            "title": "Schema Version",
            "type": "string"
          },
          "source": {
            "default": "PAD",
            "title": "Source",
            "type": "string"
          }
        },
        "required": [
          "records"
        ],
        "title": "OcrSubmissionRequest",
        "type": "object"
      },
      "OcrSubmissionResponse": {
        "description": "OCR取込レスポンス.",
        "properties": {
          "created_lines": {
            "title": "Created Lines",
            "type": "integer"
          },
          "created_orders": {
            "title": "Created Orders",
            "type": "integer"
          },
          "error_details": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Details"
          },
          "failed_records": {
            "title": "Failed Records",
            "type": "integer"
          },
          "processed_records": {
            "title": "Processed Records",
            "type": "integer"
          },
          "skipped_records": {
            "title": "Skipped Records",
            "type": "integer"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "submission_id": {
            "title": "Submission Id",
            "type": "string"
          },
          "total_records": {
            "title": "Total Records",
            "type": "integer"
          }
        },
        "required": [
          "status",
          "submission_id",
          "created_orders",
          "created_lines",
          "total_records",
          "processed_records",
          "failed_records",
          "skipped_records"
        ],
        "title": "OcrSubmissionResponse",
        "type": "object"
      },
      "OrderCreate": {
        "properties": {
          "customer_code": {
            "title": "Customer Code",
            "type": "string"
          },
          "customer_order_no": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Order No"
          },
          "customer_order_no_last6": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Order No Last6"
          },
          "delivery_mode": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivery Mode"
          },
          "lines": {
            "items": {
              "$ref": "#/components/schemas/OrderLineCreate"
            },
            "title": "Lines",
            "type": "array"
          },
          "order_date": {
            "format": "date",
            "title": "Order Date",
            "type": "string"
          },
          "order_no": {
            "title": "Order No",
            "type": "string"
          },
          "sap_error_msg": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sap Error Msg"
          },
          "sap_order_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sap Order Id"
          },
          "sap_sent_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sap Sent At"
          },
          "sap_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sap Status"
          },
          "status": {
            "default": "open",
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "order_no",
          "customer_code",
          "order_date"
        ],
        "title": "OrderCreate",
        "type": "object"
      },
      "OrderLineCreate": {
        "properties": {
          "delivery_place_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivery Place Code"
          },
          "delivery_place_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivery Place Id"
          },
          "destination_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Destination Id"
          },
          "due_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Due Date"
          },
          "external_unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "External Unit"
          },
          "line_no": {
            "title": "Line No",
            "type": "integer"
          },
          "next_div": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Div"
          },
          "product_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Product Code"
          },
          "product_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Product Id"
          },
          "quantity": {
            "title": "Quantity",
            "type": "number"
          },
          "unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Unit"
          },
          "warehouse_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warehouse Id"
          }
        },
        "required": [
          "line_no",
          "quantity"
        ],
        "title": "OrderLineCreate",
        "type": "object"
      },
      "OrderLineDemandSchema": {
        "properties": {
          "product_code": {
            "title": "Product Code",
            "type": "string"
          },
          "quantity": {
            "exclusiveMinimum": 0.0,
            "title": "Quantity",
            "type": "integer"
          },
          "warehouse_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warehouse Id"
          }
        },
        "required": [
          "product_code",
          "quantity"
        ],
        "title": "OrderLineDemandSchema",
        "type": "object"
      },
      "OrderLineOut": {
        "properties": {
          "allocated_lots": {
            "items": {
              "type": "object"
            },
            "title": "Allocated Lots",
            "type": "array"
          },
          "allocated_qty": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Allocated Qty"
          },
          "customer_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Code"
          },
          "customer_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Id"
          },
          "delivery_place_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivery Place Code"
          },
          "delivery_place_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivery Place Id"
          },
          "delivery_place_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivery Place Name"
          },
          "due_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Due Date"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "line_no": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Line No"
          },
          "next_div": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Div"
          },
          "product_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Product Code"
          },
          "product_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Product Id"
          },
          "product_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Product Name"
          },
          "quantity": {
            "title": "Quantity",
            "type": "number"
          },
          "related_lots": {
            "items": {
              "type": "object"
            },
            "title": "Related Lots",
            "type": "array"
          },
          "supplier_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supplier Code"
          },
          "supplier_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supplier Id"
          },
          "unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Unit"
          },
          "warehouse_allocations": {
            "items": {
              "$ref": "#/components/schemas/WarehouseAllocOut"
            },
            "title": "Warehouse Allocations",
            "type": "array"
          },
          "warehouse_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warehouse Id"
          }
        },
        "required": [
          "id",
          "quantity"
        ],
        "title": "OrderLineOut",
        "type": "object"
      },
      "OrderResponse": {
        "properties": {
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "customer_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Code"
          },
          "customer_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Id"
          },
          "customer_order_no": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Order No"
          },
          "customer_order_no_last6": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Order No Last6"
          },
          "delivery_mode": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivery Mode"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "order_date": {
            "format": "date",
            "title": "Order Date",
            "type": "string"
          },
          "order_no": {
            "title": "Order No",
            "type": "string"
          },
          "sap_error_msg": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sap Error Msg"
          },
          "sap_order_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sap Order Id"
          },
          "sap_sent_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sap Sent At"
          },
          "sap_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sap Status"
          },
          "status": {
            "default": "open",
            "title": "Status",
            "type": "string"
          },
          "updated_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "required": [
          "created_at",
          "order_no",
          "order_date",
          "id"
        ],
        "title": "OrderResponse",
        "type": "object"
      },
      "OrderStatusUpdate": {
        "description": "受注ステータス更新用スキーマ.\n\nNote:\n    constrを使用してstatusが空文字でないことを保証",
        "properties": {
          "status": {
            "description": "新しいステータス（open, allocated, shipped, closed, cancelled）",
            "examples": [
              "allocated",
              "shipped"
            ],
            "minLength": 1,
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "status"
        ],
        "title": "OrderStatusUpdate",
        "type": "object"
      },
      "OrderValidationDetails": {
        "properties": {
          "per_lot": {
            "items": {
              "$ref": "#/components/schemas/OrderValidationLotAvailability"
            },
            "title": "Per Lot",
            "type": "array"
          },
          "ship_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ship Date"
          },
          "warehouse_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warehouse Id"
          }
        },
        "title": "OrderValidationDetails",
        "type": "object"
      },
      "OrderValidationErrorData": {
        "properties": {
          "available": {
            "title": "Available",
            "type": "integer"
          },
          "details": {
            "$ref": "#/components/schemas/OrderValidationDetails"
          },
          "product_code": {
            "title": "Product Code",
            "type": "string"
          },
          "required": {
            "title": "Required",
            "type": "integer"
          }
        },
        "required": [
          "product_code",
          "required",
          "available",
          "details"
        ],
        "title": "OrderValidationErrorData",
        "type": "object"
      },
      "OrderValidationLotAvailability": {
        "properties": {
          "available": {
            "title": "Available",
            "type": "integer"
          },
          "lot_id": {
            "title": "Lot Id",
            "type": "integer"
          }
        },
        "required": [
          "lot_id",
          "available"
        ],
        "title": "OrderValidationLotAvailability",
        "type": "object"
      },
      "OrderValidationRequest": {
        "properties": {
          "lines": {
            "items": {
              "$ref": "#/components/schemas/OrderLineDemandSchema"
            },
            "title": "Lines",
            "type": "array"
          },
          "ship_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ship Date"
          }
        },
        "required": [
          "lines"
        ],
        "title": "OrderValidationRequest",
        "type": "object"
      },
      "OrderValidationResponse": {
        "properties": {
          "data": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/OrderValidationErrorData"
              },
              {
                "type": "null"
              }
            ]
          },
          "message": {
            "title": "Message",
            "type": "string"
          },
          "ok": {
            "title": "Ok",
            "type": "boolean"
          }
        },
        "required": [
          "ok",
          "message"
        ],
        "title": "OrderValidationResponse",
        "type": "object"
      },
      "OrderWithLinesResponse": {
        "properties": {
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "customer_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Code"
          },
          "customer_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Id"
          },
          "customer_order_no": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Order No"
          },
          "customer_order_no_last6": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Order No Last6"
          },
          "delivery_mode": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivery Mode"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "lines": {
            "items": {
              "$ref": "#/components/schemas/OrderLineOut"
            },
            "title": "Lines",
            "type": "array"
          },
          "order_date": {
            "format": "date",
            "title": "Order Date",
            "type": "string"
          },
          "order_no": {
            "title": "Order No",
            "type": "string"
          },
          "sap_error_msg": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sap Error Msg"
          },
          "sap_order_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sap Order Id"
          },
          "sap_sent_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sap Sent At"
          },
          "sap_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sap Status"
          },
          "status": {
            "default": "open",
            "title": "Status",
            "type": "string"
          },
          "updated_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "required": [
          "created_at",
          "order_no",
          "order_date",
          "id"
        ],
        "title": "OrderWithLinesResponse",
        "type": "object"
      },
      "ProductCreate": {
        "properties": {
          "assemble_div": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assemble Div"
          },
          "base_unit": {
            "default": "EA",
            "title": "Base Unit",
            "type": "string"
          },
          "customer_part_no": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Part No"
          },
          "delivery_place_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivery Place Code"
          },
          "delivery_place_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivery Place Id"
          },
          "delivery_place_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivery Place Name"
          },
          "internal_unit": {
            "minLength": 1,
            "title": "Internal Unit",
            "type": "string"
          },
          "ji_ku_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ji Ku Text"
          },
          "kumitsuke_ku_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Kumitsuke Ku Text"
          },
          "maker_item_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Maker Item Code"
          },
          "next_div": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Div"
          },
          "packaging_qty": {
            "anyOf": [
              {
                "exclusiveMinimum": 0.0,
                "type": "number"
              },
              {
                "type": "string"
              }
            ],
            "title": "Packaging Qty"
          },
          "packaging_unit": {
            "minLength": 1,
            "title": "Packaging Unit",
            "type": "string"
          },
          "product_code": {
            "title": "Product Code",
            "type": "string"
          },
          "product_name": {
            "title": "Product Name",
            "type": "string"
          },
          "requires_lot_number": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Requires Lot Number"
          },
          "shelf_life_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Shelf Life Days"
          },
          "shipping_warehouse_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Shipping Warehouse Name"
          },
          "supplier_item_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supplier Item Code"
          }
        },
        "required": [
          "product_code",
          "product_name",
          "packaging_qty",
          "packaging_unit",
          "internal_unit"
        ],
        "title": "ProductCreate",
        "type": "object"
      },
      "ProductResponse": {
        "properties": {
          "assemble_div": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assemble Div"
          },
          "base_unit": {
            "default": "EA",
            "title": "Base Unit",
            "type": "string"
          },
          "customer_part_no": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Part No"
          },
          "delivery_place_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivery Place Code"
          },
          "delivery_place_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivery Place Id"
          },
          "delivery_place_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivery Place Name"
          },
          "internal_unit": {
            "minLength": 1,
            "title": "Internal Unit",
            "type": "string"
          },
          "ji_ku_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ji Ku Text"
          },
          "kumitsuke_ku_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Kumitsuke Ku Text"
          },
          "maker_item_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Maker Item Code"
          },
          "next_div": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Div"
          },
          "packaging_qty": {
            "title": "Packaging Qty",
            "type": "string"
          },
          "packaging_unit": {
            "minLength": 1,
            "title": "Packaging Unit",
            "type": "string"
          },
          "product_code": {
            "title": "Product Code",
            "type": "string"
          },
          "product_name": {
            "title": "Product Name",
            "type": "string"
          },
          "requires_lot_number": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Requires Lot Number"
          },
          "shelf_life_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Shelf Life Days"
          },
          "shipping_warehouse_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Shipping Warehouse Name"
          },
          "supplier_item_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supplier Item Code"
          }
        },
        "required": [
          "product_code",
          "product_name",
          "packaging_qty",
          "packaging_unit",
          "internal_unit"
        ],
        "title": "ProductResponse",
        "type": "object"
      },
      "ProductUpdate": {
        "properties": {
          "assemble_div": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assemble Div"
          },
          "base_unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Base Unit"
          },
          "customer_part_no": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Part No"
          },
          "delivery_place_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivery Place Code"
          },
          "delivery_place_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivery Place Id"
          },
          "delivery_place_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivery Place Name"
          },
          "internal_unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Internal Unit"
          },
          "ji_ku_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ji Ku Text"
          },
          "kumitsuke_ku_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Kumitsuke Ku Text"
          },
          "maker_item_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Maker Item Code"
          },
          "next_div": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Div"
          },
          "packaging_qty": {
            "anyOf": [
              {
                "exclusiveMinimum": 0.0,
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Packaging Qty"
          },
          "packaging_unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Packaging Unit"
          },
          "product_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Product Name"
          },
          "requires_lot_number": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Requires Lot Number"
          },
          "shelf_life_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Shelf Life Days"
          },
          "shipping_warehouse_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Shipping Warehouse Name"
          },
          "supplier_item_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supplier Item Code"
          }
        },
        "title": "ProductUpdate",
        "type": "object"
      },
      "ResponseBase": {
        "description": "API共通レスポンス.",
        "properties": {
          "data": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          },
          "success": {
            "title": "Success",
            "type": "boolean"
          }
        },
        "required": [
          "success"
        ],
        "title": "ResponseBase",
        "type": "object"
      },
      "SapRegisterOptions": {
        "description": "SAP送信オプション.",
        "properties": {
          "retry": {
            "default": 1,
            "title": "Retry",
            "type": "integer"
          },
          "timeout_sec": {
            "default": 30,
            "title": "Timeout Sec",
            "type": "integer"
          }
        },
        "title": "SapRegisterOptions",
        "type": "object"
      },
      "SapRegisterRequest": {
        "description": "SAP送信リクエスト.",
        "properties": {
          "options": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SapRegisterOptions"
              },
              {
                "type": "null"
              }
            ],
            "default": {
              "retry": 1,
              "timeout_sec": 30
            }
          },
          "target": {
            "$ref": "#/components/schemas/SapRegisterTarget"
          }
        },
        "required": [
          "target"
        ],
        "title": "SapRegisterRequest",
        "type": "object"
      },
      "SapRegisterResponse": {
        "description": "SAP送信レスポンス.",
        "properties": {
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "sap_order_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sap Order Id"
          },
          "sap_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sap Status"
          },
          "sent": {
            "title": "Sent",
            "type": "integer"
          },
          "status": {
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "status",
          "sent"
        ],
        "title": "SapRegisterResponse",
        "type": "object"
      },
      "SapRegisterTarget": {
        "description": "SAP送信対象指定.",
        "properties": {
          "type": {
            "title": "Type",
            "type": "string"
          },
          "value": {
            "title": "Value"
          }
        },
        "required": [
          "type",
          "value"
        ],
        "title": "SapRegisterTarget",
        "type": "object"
      },
      "SapSyncLogResponse": {
        "description": "SAP連携ログレスポンス.",
        "properties": {
          "executed_at": {
            "format": "date-time",
            "title": "Executed At",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "order_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Order Id"
          },
          "payload": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payload"
          },
          "result": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Result"
          },
          "status": {
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "id",
          "status",
          "executed_at"
        ],
        "title": "SapSyncLogResponse",
        "type": "object"
      },
      "SeedRequest": {
        "properties": {
          "customers": {
            "default": 3,
            "minimum": 0.0,
            "title": "Customers",
            "type": "integer"
          },
          "delivery_places": {
            "default": 2,
            "minimum": 0.0,
            "title": "Delivery Places",
            "type": "integer"
          },
          "dry_run": {
            "default": false,
            "title": "Dry Run",
            "type": "boolean"
          },
          "forecasts": {
            "default": 0,
            "minimum": 0.0,
            "title": "Forecasts",
            "type": "integer"
          },
          "lots": {
            "default": 10,
            "minimum": 0.0,
            "title": "Lots",
            "type": "integer"
          },
          "orders": {
            "default": 5,
            "minimum": 0.0,
            "title": "Orders",
            "type": "integer"
          },
          "products": {
            "default": 5,
            "minimum": 0.0,
            "title": "Products",
            "type": "integer"
          },
          "seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 42,
            "description": "Random seed for reproducibility",
            "title": "Seed"
          },
          "suppliers": {
            "default": 2,
            "minimum": 0.0,
            "title": "Suppliers",
            "type": "integer"
          },
          "warehouses": {
            "default": 2,
            "minimum": 0.0,
            "title": "Warehouses",
            "type": "integer"
          }
        },
        "title": "SeedRequest",
        "type": "object"
      },
      "SeedResponse": {
        "properties": {
          "actual_counts": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ActualCounts"
              },
              {
                "type": "null"
              }
            ],
            "description": "投入後の実際のDB件数（dry_run=falseの場合のみ）"
          },
          "dry_run": {
            "title": "Dry Run",
            "type": "boolean"
          },
          "seed": {
            "title": "Seed",
            "type": "integer"
          },
          "summary": {
            "$ref": "#/components/schemas/SeedSummary"
          }
        },
        "required": [
          "dry_run",
          "seed",
          "summary"
        ],
        "title": "SeedResponse",
        "type": "object"
      },
      "SeedSnapshotCreateRequest": {
        "description": "スナップショット作成リクエスト.",
        "properties": {
          "name": {
            "description": "スナップショット名",
            "title": "Name",
            "type": "string"
          },
          "params_json": {
            "description": "パラメータJSON",
            "title": "Params Json",
            "type": "object"
          },
          "profile_json": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "プロファイルJSON",
            "title": "Profile Json"
          },
          "summary_json": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "サマリJSON",
            "title": "Summary Json"
          }
        },
        "required": [
          "name",
          "params_json"
        ],
        "title": "SeedSnapshotCreateRequest",
        "type": "object"
      },
      "SeedSnapshotCreateResponse": {
        "description": "スナップショット作成レスポンス.",
        "properties": {
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "name": {
            "title": "Name",
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "created_at"
        ],
        "title": "SeedSnapshotCreateResponse",
        "type": "object"
      },
      "SeedSnapshotListItem": {
        "description": "スナップショットリストアイテム.",
        "properties": {
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "params_json": {
            "title": "Params Json",
            "type": "object"
          },
          "summary_json": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary Json"
          }
        },
        "required": [
          "id",
          "name",
          "created_at",
          "params_json"
        ],
        "title": "SeedSnapshotListItem",
        "type": "object"
      },
      "SeedSnapshotListResponse": {
        "description": "スナップショット一覧レスポンス.",
        "properties": {
          "snapshots": {
            "items": {
              "$ref": "#/components/schemas/SeedSnapshotListItem"
            },
            "title": "Snapshots",
            "type": "array"
          }
        },
        "required": [
          "snapshots"
        ],
        "title": "SeedSnapshotListResponse",
        "type": "object"
      },
      "SeedSnapshotRestoreResponse": {
        "description": "スナップショット復元レスポンス.",
        "properties": {
          "message": {
            "title": "Message",
            "type": "string"
          },
          "task_id": {
            "title": "Task Id",
            "type": "string"
          }
        },
        "required": [
          "task_id",
          "message"
        ],
        "title": "SeedSnapshotRestoreResponse",
        "type": "object"
      },
      "SeedSummary": {
        "description": "作成しようとした件数（UPSERT前）.",
        "properties": {
          "allocations": {
            "title": "Allocations",
            "type": "integer"
          },
          "customers": {
            "title": "Customers",
            "type": "integer"
          },
          "delivery_places": {
            "title": "Delivery Places",
            "type": "integer"
          },
          "forecasts": {
            "title": "Forecasts",
            "type": "integer"
          },
          "lots": {
            "title": "Lots",
            "type": "integer"
          },
          "order_lines": {
            "title": "Order Lines",
            "type": "integer"
          },
          "orders": {
            "title": "Orders",
            "type": "integer"
          },
          "products": {
            "title": "Products",
            "type": "integer"
          },
          "suppliers": {
            "title": "Suppliers",
            "type": "integer"
          },
          "warehouses": {
            "title": "Warehouses",
            "type": "integer"
          }
        },
        "required": [
          "customers",
          "suppliers",
          "delivery_places",
          "products",
          "forecasts",
          "warehouses",
          "lots",
          "orders",
          "order_lines",
          "allocations"
        ],
        "title": "SeedSummary",
        "type": "object"
      },
      "SimulateProgressResponse": {
        "description": "テストデータシミュレーション進捗レスポンス.",
        "properties": {
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "logs": {
            "items": {
              "type": "string"
            },
            "title": "Logs",
            "type": "array"
          },
          "phase": {
            "title": "Phase",
            "type": "string"
          },
          "progress_pct": {
            "title": "Progress Pct",
            "type": "integer"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "task_id": {
            "title": "Task Id",
            "type": "string"
          }
        },
        "required": [
          "task_id",
          "status",
          "phase",
          "progress_pct",
          "logs"
        ],
        "title": "SimulateProgressResponse",
        "type": "object"
      },
      "SimulateResultResponse": {
        "description": "テストデータシミュレーション結果レスポンス.",
        "properties": {
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "snapshot_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Snapshot Id"
          },
          "success": {
            "title": "Success",
            "type": "boolean"
          },
          "summary": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SimulateResultSummary"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "success"
        ],
        "title": "SimulateResultResponse",
        "type": "object"
      },
      "SimulateResultSummary": {
        "description": "テストデータシミュレーション結果サマリ.",
        "properties": {
          "allocations": {
            "title": "Allocations",
            "type": "integer"
          },
          "cap_checks": {
            "$ref": "#/components/schemas/CapCheckResult"
          },
          "forecasts": {
            "default": 0,
            "description": "需要予測データ件数",
            "title": "Forecasts",
            "type": "integer"
          },
          "lots": {
            "title": "Lots",
            "type": "integer"
          },
          "order_lines": {
            "title": "Order Lines",
            "type": "integer"
          },
          "orders": {
            "title": "Orders",
            "type": "integer"
          },
          "orphan_count": {
            "default": 0,
            "description": "孤児レコード数",
            "title": "Orphan Count",
            "type": "integer"
          },
          "stock_equation_ok": {
            "title": "Stock Equation Ok",
            "type": "boolean"
          },
          "warehouses": {
            "title": "Warehouses",
            "type": "integer"
          }
        },
        "required": [
          "warehouses",
          "orders",
          "order_lines",
          "lots",
          "allocations",
          "cap_checks",
          "stock_equation_ok"
        ],
        "title": "SimulateResultSummary",
        "type": "object"
      },
      "SimulateSeedRequest": {
        "description": "テストデータシミュレーションリクエスト.",
        "properties": {
          "case_mix": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "ケースミックス比率（API上書き用、合計<=1.0）",
            "title": "Case Mix"
          },
          "customers": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 3,
            "description": "顧客数（0以上、Noneの場合はプロファイル既定）",
            "title": "Customers"
          },
          "destinations_max_per_order": {
            "default": 5,
            "description": "受注の納品先上限（常に5固定）",
            "title": "Destinations Max Per Order",
            "type": "integer"
          },
          "forecasts": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 1,
            "description": "需要予測データ生成（0=無効, 1=有効, Noneはプロファイル既定）",
            "title": "Forecasts"
          },
          "lot_split_max_per_line": {
            "default": 1,
            "description": "1明細あたりロット分割上限（1〜3、既定=1）",
            "maximum": 3.0,
            "minimum": 1.0,
            "title": "Lot Split Max Per Line",
            "type": "integer"
          },
          "lots": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 10,
            "description": "ロット数（0以上、Noneの場合はプロファイル既定）",
            "title": "Lots"
          },
          "order_line_items_per_order": {
            "default": 1,
            "description": "受注明細行の上限（1〜5、既定=1）",
            "maximum": 5.0,
            "minimum": 1.0,
            "title": "Order Line Items Per Order",
            "type": "integer"
          },
          "orders": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 5,
            "description": "受注数（0以上、Noneの場合はプロファイル既定）",
            "title": "Orders"
          },
          "products": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 5,
            "description": "製品数（0以上、Noneの場合はプロファイル既定）",
            "title": "Products"
          },
          "profile": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "プロファイル名（small/medium/large_near、Noneの場合はデフォルト）",
            "title": "Profile"
          },
          "random_seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "乱数シード（Noneの場合は現在時刻を使用）",
            "title": "Random Seed"
          },
          "save_snapshot": {
            "default": true,
            "description": "スナップショットを保存するか",
            "title": "Save Snapshot",
            "type": "boolean"
          },
          "snapshot_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "スナップショット名（自動生成の場合はNone）",
            "title": "Snapshot Name"
          },
          "suppliers": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 2,
            "description": "仕入先数（0以上、Noneの場合はプロファイル既定）",
            "title": "Suppliers"
          },
          "use_last_snapshot": {
            "default": false,
            "description": "最後のスナップショットを使用するか",
            "title": "Use Last Snapshot",
            "type": "boolean"
          },
          "warehouses": {
            "default": 2,
            "description": "倉庫数（1〜10、既定=2）",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Warehouses",
            "type": "integer"
          }
        },
        "title": "SimulateSeedRequest",
        "type": "object"
      },
      "SimulateSeedResponse": {
        "description": "テストデータシミュレーション開始レスポンス.",
        "properties": {
          "message": {
            "description": "メッセージ",
            "title": "Message",
            "type": "string"
          },
          "task_id": {
            "description": "ジョブID",
            "title": "Task Id",
            "type": "string"
          }
        },
        "required": [
          "task_id",
          "message"
        ],
        "title": "SimulateSeedResponse",
        "type": "object"
      },
      "StockMovementCreate": {
        "properties": {
          "batch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Batch Id"
          },
          "created_by": {
            "default": "system",
            "title": "Created By",
            "type": "string"
          },
          "lot_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lot Id"
          },
          "product_id": {
            "title": "Product Id",
            "type": "string"
          },
          "quantity_delta": {
            "title": "Quantity Delta",
            "type": "number"
          },
          "reason": {
            "title": "Reason",
            "type": "string"
          },
          "source_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Id"
          },
          "source_table": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Table"
          },
          "warehouse_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warehouse Id"
          }
        },
        "required": [
          "product_id",
          "quantity_delta",
          "reason"
        ],
        "title": "StockMovementCreate",
        "type": "object"
      },
      "StockMovementResponse": {
        "properties": {
          "batch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Batch Id"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "created_by": {
            "default": "system",
            "title": "Created By",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "lot_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lot Id"
          },
          "occurred_at": {
            "format": "date-time",
            "title": "Occurred At",
            "type": "string"
          },
          "product_id": {
            "title": "Product Id",
            "type": "string"
          },
          "quantity_delta": {
            "title": "Quantity Delta",
            "type": "number"
          },
          "reason": {
            "title": "Reason",
            "type": "string"
          },
          "source_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Id"
          },
          "source_table": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Table"
          },
          "updated_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "warehouse_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warehouse Id"
          }
        },
        "required": [
          "created_at",
          "product_id",
          "quantity_delta",
          "reason",
          "id",
          "occurred_at"
        ],
        "title": "StockMovementResponse",
        "type": "object"
      },
      "SupplierCreate": {
        "properties": {
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          },
          "supplier_code": {
            "title": "Supplier Code",
            "type": "string"
          },
          "supplier_name": {
            "title": "Supplier Name",
            "type": "string"
          }
        },
        "required": [
          "supplier_code",
          "supplier_name"
        ],
        "title": "SupplierCreate",
        "type": "object"
      },
      "SupplierResponse": {
        "properties": {
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          },
          "supplier_code": {
            "title": "Supplier Code",
            "type": "string"
          },
          "supplier_name": {
            "title": "Supplier Name",
            "type": "string"
          }
        },
        "required": [
          "supplier_code",
          "supplier_name"
        ],
        "title": "SupplierResponse",
        "type": "object"
      },
      "SupplierUpdate": {
        "properties": {
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          },
          "supplier_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supplier Name"
          }
        },
        "title": "SupplierUpdate",
        "type": "object"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "title": "Location",
            "type": "array"
          },
          "msg": {
            "title": "Message",
            "type": "string"
          },
          "type": {
            "title": "Error Type",
            "type": "string"
          }
        },
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError",
        "type": "object"
      },
      "WarehouseAllocOut": {
        "properties": {
          "quantity": {
            "title": "Quantity",
            "type": "number"
          },
          "warehouse_id": {
            "title": "Warehouse Id",
            "type": "integer"
          }
        },
        "required": [
          "warehouse_id",
          "quantity"
        ],
        "title": "WarehouseAllocOut",
        "type": "object"
      },
      "WarehouseCreate": {
        "properties": {
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          },
          "is_active": {
            "default": 1,
            "title": "Is Active",
            "type": "integer"
          },
          "warehouse_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warehouse Id"
          },
          "warehouse_name": {
            "title": "Warehouse Name",
            "type": "string"
          }
        },
        "required": [
          "warehouse_name"
        ],
        "title": "WarehouseCreate",
        "type": "object"
      },
      "WarehouseListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/WarehouseOut"
            },
            "title": "Items",
            "type": "array"
          }
        },
        "required": [
          "items"
        ],
        "title": "WarehouseListResponse",
        "type": "object"
      },
      "WarehouseOut": {
        "properties": {
          "warehouse_id": {
            "title": "Warehouse Id",
            "type": "integer"
          },
          "warehouse_name": {
            "title": "Warehouse Name",
            "type": "string"
          }
        },
        "required": [
          "warehouse_id",
          "warehouse_name"
        ],
        "title": "WarehouseOut",
        "type": "object"
      },
      "WarehouseResponse": {
        "properties": {
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          },
          "is_active": {
            "default": 1,
            "title": "Is Active",
            "type": "integer"
          },
          "warehouse_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warehouse Id"
          },
          "warehouse_name": {
            "title": "Warehouse Name",
            "type": "string"
          }
        },
        "required": [
          "warehouse_name"
        ],
        "title": "WarehouseResponse",
        "type": "object"
      },
      "WarehouseUpdate": {
        "properties": {
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 1,
            "title": "Is Active"
          },
          "warehouse_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warehouse Name"
          }
        },
        "title": "WarehouseUpdate",
        "type": "object"
      }
    }
  },
  "info": {
    "description": "材料ロット管理システム - バックエンドAPI",
    "title": "Lot Management API",
    "version": "2.0.0"
  },
  "openapi": "3.1.0",
  "paths": {
    "/": {
      "get": {
        "description": "ルートエンドポイント.",
        "operationId": "root__get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Root"
      }
    },
    "/api/admin/diagnostics/allocatable-lots": {
      "get": {
        "description": "診断API: 引当可能ロット一覧（読み取り専用）.\n\nArgs:\n    prod: 製品コード（任意フィルタ）\n    wh: 倉庫コード（任意フィルタ）\n    limit: 最大取得件数（デフォルト100）\n    db: データベースセッション\n\nReturns:\n    AllocatableLotsResponse: 引当可能ロット一覧\n\nNote:\n    - 読み取り専用トランザクション\n    - free_qty > 0 のみ\n    - ロック済み・期限切れは除外",
        "operationId": "get_allocatable_lots_api_admin_diagnostics_allocatable_lots_get",
        "parameters": [
          {
            "in": "query",
            "name": "prod",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Prod"
            }
          },
          {
            "in": "query",
            "name": "wh",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Wh"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AllocatableLotsResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Allocatable Lots",
        "tags": [
          "admin"
        ]
      }
    },
    "/api/admin/healthcheck/db-counts": {
      "get": {
        "description": "各テーブルのレコード件数を返す.\n\nReturns:\n    dict: テーブル名をキー、件数を値とする辞書",
        "operationId": "get_db_counts_api_admin_healthcheck_db_counts_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Db Counts",
        "tags": [
          "admin"
        ]
      }
    },
    "/api/admin/healthcheck/masters": {
      "get": {
        "description": "マスタテーブルのヘルスチェック.\n\nReturns:\n    dict: 各マスタテーブルの件数とサンプルデータ（先頭5件のコード）",
        "operationId": "get_masters_health_api_admin_healthcheck_masters_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Masters Health",
        "tags": [
          "admin"
        ]
      }
    },
    "/api/admin/reset-database": {
      "post": {
        "description": "データベースリセット（開発環境のみ）\n- テーブル構造は保持したまま、全データを削除\n- alembic_versionは保持（マイグレーション履歴を維持）\n- TRUNCATE ... RESTART IDENTITY CASCADEで高速にデータをクリア.",
        "operationId": "reset_database_api_admin_reset_database_post",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseBase"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Reset Database",
        "tags": [
          "admin"
        ]
      }
    },
    "/api/admin/seed-snapshots": {
      "get": {
        "description": "スナップショット一覧を取得.",
        "operationId": "list_seed_snapshots_api_admin_seed_snapshots_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SeedSnapshotListResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Seed Snapshots",
        "tags": [
          "admin"
        ]
      },
      "post": {
        "description": "スナップショットを手動作成.",
        "operationId": "create_seed_snapshot_api_admin_seed_snapshots_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SeedSnapshotCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SeedSnapshotCreateResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Seed Snapshot",
        "tags": [
          "admin"
        ]
      }
    },
    "/api/admin/seed-snapshots/{snapshot_id}": {
      "delete": {
        "description": "スナップショットを削除.",
        "operationId": "delete_seed_snapshot_api_admin_seed_snapshots__snapshot_id__delete",
        "parameters": [
          {
            "description": "スナップショットID",
            "in": "path",
            "name": "snapshot_id",
            "required": true,
            "schema": {
              "description": "スナップショットID",
              "title": "Snapshot Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Seed Snapshot",
        "tags": [
          "admin"
        ]
      }
    },
    "/api/admin/seed-snapshots/{snapshot_id}/restore": {
      "post": {
        "description": "スナップショットから復元.\n\n- 保存されたパラメータで Reset → Insert を実行\n- task_id を返す",
        "operationId": "restore_seed_snapshot_api_admin_seed_snapshots__snapshot_id__restore_post",
        "parameters": [
          {
            "description": "スナップショットID",
            "in": "path",
            "name": "snapshot_id",
            "required": true,
            "schema": {
              "description": "スナップショットID",
              "title": "Snapshot Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SeedSnapshotRestoreResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Restore Seed Snapshot",
        "tags": [
          "admin"
        ]
      }
    },
    "/api/admin/seeds": {
      "post": {
        "description": "シードデータ生成（UPSERT方式）.\n\n- 既存データに追加する形でサンプルデータを投入\n- UPSERT（ON CONFLICT DO NOTHING）で重複を防止\n- dry_run=true で投入前のサマリのみ確認可能",
        "operationId": "create_seeds_api_admin_seeds_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SeedRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SeedResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Seeds",
        "tags": [
          "admin"
        ]
      }
    },
    "/api/admin/simulate-progress/{task_id}": {
      "get": {
        "description": "テストデータシミュレーションの進捗を取得.\n\n- ポーリングJSONで進捗を返す（3〜5秒間隔でクライアントが呼び出す想定）",
        "operationId": "get_simulate_progress_api_admin_simulate_progress__task_id__get",
        "parameters": [
          {
            "description": "タスクID",
            "in": "path",
            "name": "task_id",
            "required": true,
            "schema": {
              "description": "タスクID",
              "title": "Task Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimulateProgressResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Simulate Progress",
        "tags": [
          "admin"
        ]
      }
    },
    "/api/admin/simulate-result/{task_id}": {
      "get": {
        "description": "テストデータシミュレーションの結果を取得.\n\n- 完了サマリを返す",
        "operationId": "get_simulate_result_api_admin_simulate_result__task_id__get",
        "parameters": [
          {
            "description": "タスクID",
            "in": "path",
            "name": "task_id",
            "required": true,
            "schema": {
              "description": "タスクID",
              "title": "Task Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimulateResultResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Simulate Result",
        "tags": [
          "admin"
        ]
      }
    },
    "/api/admin/simulate-seed-data": {
      "post": {
        "description": "テストデータシミュレーションを開始.\n\n- Reset → Insert を一括実行\n- バックグラウンドでジョブを起動\n- task_id を返す",
        "operationId": "simulate_seed_data_api_admin_simulate_seed_data_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SimulateSeedRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimulateSeedResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Simulate Seed Data",
        "tags": [
          "admin"
        ]
      }
    },
    "/api/admin/stats": {
      "get": {
        "description": "ダッシュボード用の統計情報を返す.",
        "operationId": "get_dashboard_stats_api_admin_stats_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardStatsResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Dashboard Stats",
        "tags": [
          "admin"
        ]
      }
    },
    "/api/allocations/candidate-lots": {
      "get": {
        "description": "候補ロット一覧取得（product_id基準）.\n\nArgs:\n    product_id: 製品ID（必須）\n    warehouse_id: 倉庫ID（任意フィルタ）\n    limit: 最大取得件数（デフォルト200）\n    db: データベースセッション\n\nReturns:\n    CandidateLotsResponse: 候補ロット一覧\n\nNote:\n    - free_qty > 0 のみ返却\n    - ロック済み・期限切れは除外\n    - 並び順: expiry_date NULLS FIRST, lot_id",
        "operationId": "get_candidate_lots_api_allocations_candidate_lots_get",
        "parameters": [
          {
            "in": "query",
            "name": "product_id",
            "required": true,
            "schema": {
              "title": "Product Id",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "warehouse_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Warehouse Id"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 200,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CandidateLotsResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Candidate Lots",
        "tags": [
          "allocations"
        ]
      }
    },
    "/api/allocations/drag-assign": {
      "post": {
        "description": "互換エンドポイント: ドラッグ引当\n※元々 orders.py に存在したものを再実装（URL・I/O変更なし）.",
        "operationId": "drag_assign_allocation_api_allocations_drag_assign_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DragAssignRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Drag Assign Allocation",
        "tags": [
          "allocations"
        ]
      }
    },
    "/api/allocations/orders/{order_id}/allocate": {
      "post": {
        "description": "注文ID単位でのFEFO引当確定.",
        "operationId": "allocate_order_api_allocations_orders__order_id__allocate_post",
        "parameters": [
          {
            "in": "path",
            "name": "order_id",
            "required": true,
            "schema": {
              "title": "Order Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FefoCommitResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Allocate Order",
        "tags": [
          "allocations"
        ]
      }
    },
    "/api/allocations/preview": {
      "post": {
        "description": "在庫を変更しない FEFO 引当プレビュー.",
        "operationId": "preview_allocations_api_allocations_preview_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FefoPreviewRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FefoPreviewResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Preview Allocations",
        "tags": [
          "allocations"
        ]
      }
    },
    "/api/allocations/{allocation_id}": {
      "delete": {
        "description": "引当取消（DELETE API, ソフトキャンセル対応）.",
        "operationId": "delete_allocation_api_allocations__allocation_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "allocation_id",
            "required": true,
            "schema": {
              "title": "Allocation Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Allocation",
        "tags": [
          "allocations"
        ]
      }
    },
    "/api/forecast": {
      "get": {
        "description": "フォーキャスト一覧取得 (生データ).",
        "operationId": "list_forecasts_api_forecast_get",
        "parameters": [
          {
            "in": "query",
            "name": "skip",
            "required": false,
            "schema": {
              "default": 0,
              "title": "Skip",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "product_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Product Id"
            }
          },
          {
            "in": "query",
            "name": "customer_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Customer Id"
            }
          },
          {
            "in": "query",
            "name": "product_code",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Product Code"
            }
          },
          {
            "in": "query",
            "name": "customer_code",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Customer Code"
            }
          },
          {
            "in": "query",
            "name": "granularity",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Granularity"
            }
          },
          {
            "in": "query",
            "name": "is_active",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Is Active"
            }
          },
          {
            "in": "query",
            "name": "version_no",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Version No"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ForecastResponse"
                  },
                  "title": "Response List Forecasts Api Forecast Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Forecasts",
        "tags": [
          "forecast"
        ]
      },
      "post": {
        "description": "フォーキャスト単一登録.",
        "operationId": "create_forecast_api_forecast_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForecastCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Forecast",
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/activate": {
      "post": {
        "description": "指定バージョンをアクティブ化.",
        "operationId": "activate_version_api_forecast_activate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForecastActivateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastActivateResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Activate Version",
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/bulk": {
      "post": {
        "description": "フォーキャスト一括登録.",
        "operationId": "bulk_import_forecasts_api_forecast_bulk_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForecastBulkImportRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastBulkImportResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Bulk Import Forecasts",
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/list": {
      "get": {
        "description": "Forecast一覧（フロント表示用）.",
        "operationId": "list_forecast_summary_api_forecast_list_get",
        "parameters": [
          {
            "in": "query",
            "name": "product_code",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Product Code"
            }
          },
          {
            "in": "query",
            "name": "supplier_code",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Supplier Code"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Forecast Summary",
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/match": {
      "post": {
        "description": "フォーキャストと受注明細の手動マッチング.",
        "operationId": "match_forecasts_api_forecast_match_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForecastMatchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastMatchResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Match Forecasts",
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/versions": {
      "get": {
        "description": "フォーキャストバージョン一覧取得.",
        "operationId": "list_versions_api_forecast_versions_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastVersionListResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Versions",
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/forecast/{forecast_id}": {
      "delete": {
        "description": "フォーキャスト削除.",
        "operationId": "delete_forecast_api_forecast__forecast_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "forecast_id",
            "required": true,
            "schema": {
              "title": "Forecast Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Forecast",
        "tags": [
          "forecast"
        ]
      },
      "get": {
        "description": "フォーキャスト詳細取得.",
        "operationId": "get_forecast_api_forecast__forecast_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "forecast_id",
            "required": true,
            "schema": {
              "title": "Forecast Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Forecast",
        "tags": [
          "forecast"
        ]
      },
      "put": {
        "description": "フォーキャスト更新.",
        "operationId": "update_forecast_api_forecast__forecast_id__put",
        "parameters": [
          {
            "in": "path",
            "name": "forecast_id",
            "required": true,
            "schema": {
              "title": "Forecast Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForecastUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Forecast",
        "tags": [
          "forecast"
        ]
      }
    },
    "/api/health": {
      "get": {
        "operationId": "health_api_health_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Health",
        "tags": [
          "health"
        ]
      }
    },
    "/api/healthz": {
      "get": {
        "operationId": "healthz_api_healthz_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Healthz",
        "tags": [
          "health"
        ]
      }
    },
    "/api/integration/ai-ocr/submissions": {
      "get": {
        "description": "OCR取込ログ一覧取得.",
        "operationId": "list_ocr_submissions_api_integration_ai_ocr_submissions_get",
        "parameters": [
          {
            "in": "query",
            "name": "skip",
            "required": false,
            "schema": {
              "default": 0,
              "title": "Skip",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/OcrSubmissionResponse"
                  },
                  "title": "Response List Ocr Submissions Api Integration Ai Ocr Submissions Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Ocr Submissions",
        "tags": [
          "integration"
        ]
      }
    },
    "/api/integration/ai-ocr/submit": {
      "post": {
        "description": "AI-OCR受注データ取込.\n\n処理フロー:\n1. OCR取込ログ作成\n2. 各受注レコードについて:\n   - 得意先・製品のマスタチェック\n   - 受注ヘッダ作成\n   - 受注明細作成\n   - (オプション) フォーキャストマッチング\n3. 結果サマリ返却",
        "operationId": "submit_ocr_data_api_integration_ai_ocr_submit_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OcrSubmissionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OcrSubmissionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Submit Ocr Data",
        "tags": [
          "integration"
        ]
      }
    },
    "/api/integration/sap/logs": {
      "get": {
        "description": "SAP連携ログ一覧取得.",
        "operationId": "list_sap_logs_api_integration_sap_logs_get",
        "parameters": [
          {
            "in": "query",
            "name": "skip",
            "required": false,
            "schema": {
              "default": 0,
              "title": "Skip",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/SapSyncLogResponse"
                  },
                  "title": "Response List Sap Logs Api Integration Sap Logs Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Sap Logs",
        "tags": [
          "integration"
        ]
      }
    },
    "/api/integration/sap/register": {
      "post": {
        "description": "SAP連携(手動送信).\n\n注意: 実際のSAP APIは実装されていません。\nこれはモック実装です。",
        "operationId": "register_to_sap_api_integration_sap_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SapRegisterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SapRegisterResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Register To Sap",
        "tags": [
          "integration"
        ]
      }
    },
    "/api/lots": {
      "get": {
        "description": "ロット一覧取得.\n\nArgs:\n    skip: スキップ件数\n    limit: 取得件数\n    product_id: 製品IDでフィルタ（優先）\n    product_code: 製品コードでフィルタ\n    supplier_code: 仕入先コードでフィルタ\n    warehouse_code: 倉庫コードでフィルタ\n    expiry_from: 有効期限開始日\n    expiry_to: 有効期限終了日\n    with_stock: 在庫あり(>0)のみ取得\n    db: データベースセッション",
        "operationId": "list_lots_api_lots_get",
        "parameters": [
          {
            "in": "query",
            "name": "skip",
            "required": false,
            "schema": {
              "default": 0,
              "title": "Skip",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "product_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Product Id"
            }
          },
          {
            "in": "query",
            "name": "product_code",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Product Code"
            }
          },
          {
            "in": "query",
            "name": "supplier_code",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Supplier Code"
            }
          },
          {
            "in": "query",
            "name": "warehouse_code",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Warehouse Code"
            }
          },
          {
            "in": "query",
            "name": "expiry_from",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "format": "date",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Expiry From"
            }
          },
          {
            "in": "query",
            "name": "expiry_to",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "format": "date",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Expiry To"
            }
          },
          {
            "in": "query",
            "name": "with_stock",
            "required": false,
            "schema": {
              "default": true,
              "title": "With Stock",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/LotResponse"
                  },
                  "title": "Response List Lots Api Lots Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Lots",
        "tags": [
          "lots"
        ]
      },
      "post": {
        "description": "ロット新規登録.\n\n- ロットマスタ登録\n- 現在在庫テーブル初期化",
        "operationId": "create_lot_api_lots_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LotCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LotResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Lot",
        "tags": [
          "lots"
        ]
      }
    },
    "/api/lots/movements": {
      "post": {
        "description": "在庫変動記録.\n\n- 在庫変動履歴追加\n- 現在在庫更新",
        "operationId": "create_stock_movement_api_lots_movements_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StockMovementCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StockMovementResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Stock Movement",
        "tags": [
          "lots"
        ]
      }
    },
    "/api/lots/{lot_id}": {
      "delete": {
        "description": "ロット削除.",
        "operationId": "delete_lot_api_lots__lot_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "lot_id",
            "required": true,
            "schema": {
              "title": "Lot Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Lot",
        "tags": [
          "lots"
        ]
      },
      "get": {
        "description": "ロット詳細取得.",
        "operationId": "get_lot_api_lots__lot_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "lot_id",
            "required": true,
            "schema": {
              "title": "Lot Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LotResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Lot",
        "tags": [
          "lots"
        ]
      },
      "put": {
        "description": "ロット更新.",
        "operationId": "update_lot_api_lots__lot_id__put",
        "parameters": [
          {
            "in": "path",
            "name": "lot_id",
            "required": true,
            "schema": {
              "title": "Lot Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LotUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LotResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Lot",
        "tags": [
          "lots"
        ]
      }
    },
    "/api/lots/{lot_id}/movements": {
      "get": {
        "description": "ロットの在庫変動履歴取得.",
        "operationId": "list_lot_movements_api_lots__lot_id__movements_get",
        "parameters": [
          {
            "in": "path",
            "name": "lot_id",
            "required": true,
            "schema": {
              "title": "Lot Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/StockMovementResponse"
                  },
                  "title": "Response List Lot Movements Api Lots  Lot Id  Movements Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Lot Movements",
        "tags": [
          "lots"
        ]
      }
    },
    "/api/masters/bulk-load": {
      "post": {
        "description": "Create or update masters in bulk.",
        "operationId": "bulk_load_masters_api_masters_bulk_load_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MasterBulkLoadRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MasterBulkLoadResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Bulk Load Masters",
        "tags": [
          "masters",
          "masters"
        ]
      }
    },
    "/api/masters/customers": {
      "get": {
        "description": "Return customers.",
        "operationId": "list_customers_api_masters_customers_get",
        "parameters": [
          {
            "in": "query",
            "name": "skip",
            "required": false,
            "schema": {
              "default": 0,
              "title": "Skip",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/CustomerResponse"
                  },
                  "title": "Response List Customers Api Masters Customers Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Customers",
        "tags": [
          "masters",
          "masters"
        ]
      },
      "post": {
        "description": "Create a new customer.",
        "operationId": "create_customer_api_masters_customers_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CustomerCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CustomerResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Customer",
        "tags": [
          "masters",
          "masters"
        ]
      }
    },
    "/api/masters/customers/{customer_code}": {
      "delete": {
        "description": "Delete a customer.",
        "operationId": "delete_customer_api_masters_customers__customer_code__delete",
        "parameters": [
          {
            "in": "path",
            "name": "customer_code",
            "required": true,
            "schema": {
              "title": "Customer Code",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Customer",
        "tags": [
          "masters",
          "masters"
        ]
      },
      "get": {
        "description": "Fetch a customer by code.",
        "operationId": "get_customer_api_masters_customers__customer_code__get",
        "parameters": [
          {
            "in": "path",
            "name": "customer_code",
            "required": true,
            "schema": {
              "title": "Customer Code",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CustomerResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Customer",
        "tags": [
          "masters",
          "masters"
        ]
      },
      "put": {
        "description": "Update a customer.",
        "operationId": "update_customer_api_masters_customers__customer_code__put",
        "parameters": [
          {
            "in": "path",
            "name": "customer_code",
            "required": true,
            "schema": {
              "title": "Customer Code",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CustomerUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CustomerResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Customer",
        "tags": [
          "masters",
          "masters"
        ]
      }
    },
    "/api/masters/products": {
      "get": {
        "description": "Return a paginated list of products.",
        "operationId": "list_products_api_masters_products_get",
        "parameters": [
          {
            "in": "query",
            "name": "skip",
            "required": false,
            "schema": {
              "default": 0,
              "title": "Skip",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "search",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Search"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ProductResponse"
                  },
                  "title": "Response List Products Api Masters Products Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Products",
        "tags": [
          "masters",
          "masters"
        ]
      },
      "post": {
        "description": "Create a new product.",
        "operationId": "create_product_api_masters_products_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Product",
        "tags": [
          "masters",
          "masters"
        ]
      }
    },
    "/api/masters/products/{product_code}": {
      "delete": {
        "description": "Delete a product by its code.",
        "operationId": "delete_product_api_masters_products__product_code__delete",
        "parameters": [
          {
            "in": "path",
            "name": "product_code",
            "required": true,
            "schema": {
              "title": "Product Code",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Product",
        "tags": [
          "masters",
          "masters"
        ]
      },
      "get": {
        "description": "Fetch a product by its code.",
        "operationId": "get_product_api_masters_products__product_code__get",
        "parameters": [
          {
            "in": "path",
            "name": "product_code",
            "required": true,
            "schema": {
              "title": "Product Code",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Product",
        "tags": [
          "masters",
          "masters"
        ]
      },
      "put": {
        "description": "Update an existing product.",
        "operationId": "update_product_api_masters_products__product_code__put",
        "parameters": [
          {
            "in": "path",
            "name": "product_code",
            "required": true,
            "schema": {
              "title": "Product Code",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Product",
        "tags": [
          "masters",
          "masters"
        ]
      }
    },
    "/api/masters/suppliers": {
      "get": {
        "description": "List suppliers.",
        "operationId": "list_suppliers_api_masters_suppliers_get",
        "parameters": [
          {
            "in": "query",
            "name": "skip",
            "required": false,
            "schema": {
              "default": 0,
              "title": "Skip",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/SupplierResponse"
                  },
                  "title": "Response List Suppliers Api Masters Suppliers Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Suppliers",
        "tags": [
          "masters",
          "masters"
        ]
      },
      "post": {
        "description": "Create supplier.",
        "operationId": "create_supplier_api_masters_suppliers_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SupplierCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SupplierResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Supplier",
        "tags": [
          "masters",
          "masters"
        ]
      }
    },
    "/api/masters/suppliers/{supplier_code}": {
      "delete": {
        "description": "Delete supplier.",
        "operationId": "delete_supplier_api_masters_suppliers__supplier_code__delete",
        "parameters": [
          {
            "in": "path",
            "name": "supplier_code",
            "required": true,
            "schema": {
              "title": "Supplier Code",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Supplier",
        "tags": [
          "masters",
          "masters"
        ]
      },
      "get": {
        "description": "Get supplier by code.",
        "operationId": "get_supplier_api_masters_suppliers__supplier_code__get",
        "parameters": [
          {
            "in": "path",
            "name": "supplier_code",
            "required": true,
            "schema": {
              "title": "Supplier Code",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SupplierResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Supplier",
        "tags": [
          "masters",
          "masters"
        ]
      },
      "put": {
        "description": "Update supplier.",
        "operationId": "update_supplier_api_masters_suppliers__supplier_code__put",
        "parameters": [
          {
            "in": "path",
            "name": "supplier_code",
            "required": true,
            "schema": {
              "title": "Supplier Code",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SupplierUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SupplierResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Supplier",
        "tags": [
          "masters",
          "masters"
        ]
      }
    },
    "/api/masters/warehouses": {
      "get": {
        "description": "List warehouses.",
        "operationId": "list_warehouses_api_masters_warehouses_get",
        "parameters": [
          {
            "in": "query",
            "name": "skip",
            "required": false,
            "schema": {
              "default": 0,
              "title": "Skip",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/WarehouseResponse"
                  },
                  "title": "Response List Warehouses Api Masters Warehouses Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Warehouses",
        "tags": [
          "masters",
          "masters"
        ]
      },
      "post": {
        "description": "Create warehouse.",
        "operationId": "create_warehouse_api_masters_warehouses_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WarehouseCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WarehouseResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Warehouse",
        "tags": [
          "masters",
          "masters"
        ]
      }
    },
    "/api/masters/warehouses/{warehouse_code}": {
      "delete": {
        "description": "Delete warehouse.",
        "operationId": "delete_warehouse_api_masters_warehouses__warehouse_code__delete",
        "parameters": [
          {
            "in": "path",
            "name": "warehouse_code",
            "required": true,
            "schema": {
              "title": "Warehouse Code",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Warehouse",
        "tags": [
          "masters",
          "masters"
        ]
      },
      "get": {
        "description": "Get warehouse by code.",
        "operationId": "get_warehouse_api_masters_warehouses__warehouse_code__get",
        "parameters": [
          {
            "in": "path",
            "name": "warehouse_code",
            "required": true,
            "schema": {
              "title": "Warehouse Code",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WarehouseResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Warehouse",
        "tags": [
          "masters",
          "masters"
        ]
      },
      "put": {
        "description": "Update warehouse.",
        "operationId": "update_warehouse_api_masters_warehouses__warehouse_code__put",
        "parameters": [
          {
            "in": "path",
            "name": "warehouse_code",
            "required": true,
            "schema": {
              "title": "Warehouse Code",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WarehouseUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WarehouseResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Warehouse",
        "tags": [
          "masters",
          "masters"
        ]
      }
    },
    "/api/orders": {
      "get": {
        "description": "受注一覧取得（読み取り専用）.\n\nトランザクション不要のため、通常のSessionを使用\n\nNote:\n    例外はグローバルハンドラで処理されるため、\n    ここではHTTPExceptionを投げない",
        "operationId": "list_orders_api_orders_get",
        "parameters": [
          {
            "in": "query",
            "name": "skip",
            "required": false,
            "schema": {
              "default": 0,
              "title": "Skip",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "status",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "in": "query",
            "name": "customer_code",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Customer Code"
            }
          },
          {
            "in": "query",
            "name": "date_from",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "format": "date",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Date From"
            }
          },
          {
            "in": "query",
            "name": "date_to",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "format": "date",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Date To"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/OrderResponse"
                  },
                  "title": "Response List Orders Api Orders Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Orders",
        "tags": [
          "orders"
        ]
      },
      "post": {
        "description": "受注作成.\n\n【修正#5】UnitOfWorkを依存注入で取得（SessionLocal直参照を回避）\n\nトランザクション管理:\n    - 成功時: UnitOfWorkが自動commit\n    - 例外発生時: UnitOfWorkが自動rollback\n\n例外処理:\n    - DuplicateOrderError → 409 Conflict\n    - OrderValidationError → 422 Unprocessable Entity\n    - ProductNotFoundError → 404 Not Found\n    - OrderDomainError → 400 Bad Request\n    上記はすべてグローバルハンドラで変換される",
        "operationId": "create_order_api_orders_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OrderCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrderWithLinesResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Order",
        "tags": [
          "orders"
        ]
      }
    },
    "/api/orders/validate": {
      "post": {
        "operationId": "validate_order_stock_api_orders_validate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OrderValidationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrderValidationResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "受注在庫検証",
        "tags": [
          "orders"
        ]
      }
    },
    "/api/orders/{order_id}": {
      "get": {
        "description": "受注詳細取得（読み取り専用、明細含む）.\n\nトランザクション不要のため、通常のSessionを使用\n\nNote:\n    - OrderNotFoundError → 404はグローバルハンドラが処理",
        "operationId": "get_order_api_orders__order_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "order_id",
            "required": true,
            "schema": {
              "title": "Order Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrderWithLinesResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Order",
        "tags": [
          "orders"
        ]
      }
    },
    "/api/orders/{order_id}/cancel": {
      "delete": {
        "description": "受注キャンセル.\n\n【修正#5】UnitOfWorkを依存注入で取得\n\nトランザクション管理:\n    - 成功時: UnitOfWorkが自動commit\n    - 例外発生時: UnitOfWorkが自動rollback\n\n例外処理:\n    - OrderNotFoundError → 404 Not Found\n    - InvalidOrderStatusError → 400 Bad Request\n    上記はグローバルハンドラで変換される\n\nReturns:\n    None (204 No Content)",
        "operationId": "cancel_order_api_orders__order_id__cancel_delete",
        "parameters": [
          {
            "in": "path",
            "name": "order_id",
            "required": true,
            "schema": {
              "title": "Order Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Cancel Order",
        "tags": [
          "orders"
        ]
      }
    },
    "/api/orders/{order_id}/status": {
      "patch": {
        "description": "受注ステータス更新.\n\n【修正#2】dict入力を廃止し、OrderStatusUpdateスキーマを使用\n【修正#5】UnitOfWorkを依存注入で取得\n\nArgs:\n    order_id: 受注ID\n    body: ステータス更新データ（Schema検証済み）\n    uow: UnitOfWork（依存注入）\n\nトランザクション管理:\n    - 成功時: UnitOfWorkが自動commit\n    - 例外発生時: UnitOfWorkが自動rollback\n\n例外処理:\n    - OrderNotFoundError → 404 Not Found\n    - InvalidOrderStatusError → 400 Bad Request\n    上記はグローバルハンドラで変換される",
        "operationId": "update_order_status_api_orders__order_id__status_patch",
        "parameters": [
          {
            "in": "path",
            "name": "order_id",
            "required": true,
            "schema": {
              "title": "Order Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OrderStatusUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrderResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Order Status",
        "tags": [
          "orders"
        ]
      }
    },
    "/api/readyz": {
      "get": {
        "operationId": "readyz_api_readyz_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Readyz",
        "tags": [
          "health"
        ]
      }
    },
    "/api/warehouse-alloc/warehouses": {
      "get": {
        "description": "配分対象の倉庫一覧（新しいwarehouseテーブル）を取得.",
        "operationId": "list_warehouses_api_warehouse_alloc_warehouses_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WarehouseListResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Warehouses",
        "tags": [
          "warehouse-alloc"
        ]
      }
    }
  }
}
{"openapi":"3.1.0","info":{"title":"Lot Management API","description":"材料ロット管理システム - バックエンドAPI","version":"2.0.0"},"paths":{"/api/masters/products":{"get":{"tags":["masters","masters"],"summary":"List Products","description":"Return a paginated list of products.","operationId":"list_products_api_masters_products_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductResponse"},"title":"Response List Products Api Masters Products Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["masters","masters"],"summary":"Create Product","description":"Create a new product.","operationId":"create_product_api_masters_products_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/masters/products/{product_code}":{"get":{"tags":["masters","masters"],"summary":"Get Product","description":"Fetch a product by its code.","operationId":"get_product_api_masters_products__product_code__get","parameters":[{"name":"product_code","in":"path","required":true,"schema":{"type":"string","title":"Product Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["masters","masters"],"summary":"Update Product","description":"Update an existing product.","operationId":"update_product_api_masters_products__product_code__put","parameters":[{"name":"product_code","in":"path","required":true,"schema":{"type":"string","title":"Product Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["masters","masters"],"summary":"Delete Product","description":"Delete a product by its code.","operationId":"delete_product_api_masters_products__product_code__delete","parameters":[{"name":"product_code","in":"path","required":true,"schema":{"type":"string","title":"Product Code"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/masters/customers":{"get":{"tags":["masters","masters"],"summary":"List Customers","description":"Return customers.","operationId":"list_customers_api_masters_customers_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CustomerResponse"},"title":"Response List Customers Api Masters Customers Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["masters","masters"],"summary":"Create Customer","description":"Create a new customer.","operationId":"create_customer_api_masters_customers_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/masters/customers/{customer_code}":{"get":{"tags":["masters","masters"],"summary":"Get Customer","description":"Fetch a customer by code.","operationId":"get_customer_api_masters_customers__customer_code__get","parameters":[{"name":"customer_code","in":"path","required":true,"schema":{"type":"string","title":"Customer Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["masters","masters"],"summary":"Update Customer","description":"Update a customer.","operationId":"update_customer_api_masters_customers__customer_code__put","parameters":[{"name":"customer_code","in":"path","required":true,"schema":{"type":"string","title":"Customer Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["masters","masters"],"summary":"Delete Customer","description":"Delete a customer.","operationId":"delete_customer_api_masters_customers__customer_code__delete","parameters":[{"name":"customer_code","in":"path","required":true,"schema":{"type":"string","title":"Customer Code"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/masters/suppliers":{"get":{"tags":["masters","masters"],"summary":"List Suppliers","description":"List suppliers.","operationId":"list_suppliers_api_masters_suppliers_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SupplierResponse"},"title":"Response List Suppliers Api Masters Suppliers Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["masters","masters"],"summary":"Create Supplier","description":"Create supplier.","operationId":"create_supplier_api_masters_suppliers_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupplierCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupplierResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/masters/suppliers/{supplier_code}":{"get":{"tags":["masters","masters"],"summary":"Get Supplier","description":"Get supplier by code.","operationId":"get_supplier_api_masters_suppliers__supplier_code__get","parameters":[{"name":"supplier_code","in":"path","required":true,"schema":{"type":"string","title":"Supplier Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupplierResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["masters","masters"],"summary":"Update Supplier","description":"Update supplier.","operationId":"update_supplier_api_masters_suppliers__supplier_code__put","parameters":[{"name":"supplier_code","in":"path","required":true,"schema":{"type":"string","title":"Supplier Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupplierUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupplierResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["masters","masters"],"summary":"Delete Supplier","description":"Delete supplier.","operationId":"delete_supplier_api_masters_suppliers__supplier_code__delete","parameters":[{"name":"supplier_code","in":"path","required":true,"schema":{"type":"string","title":"Supplier Code"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/masters/warehouses":{"get":{"tags":["masters","masters"],"summary":"List Warehouses","description":"List warehouses.","operationId":"list_warehouses_api_masters_warehouses_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WarehouseResponse"},"title":"Response List Warehouses Api Masters Warehouses Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["masters","masters"],"summary":"Create Warehouse","description":"Create warehouse.","operationId":"create_warehouse_api_masters_warehouses_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarehouseCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarehouseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/masters/warehouses/{warehouse_code}":{"get":{"tags":["masters","masters"],"summary":"Get Warehouse","description":"Get warehouse by code.","operationId":"get_warehouse_api_masters_warehouses__warehouse_code__get","parameters":[{"name":"warehouse_code","in":"path","required":true,"schema":{"type":"string","title":"Warehouse Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarehouseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["masters","masters"],"summary":"Update Warehouse","description":"Update warehouse.","operationId":"update_warehouse_api_masters_warehouses__warehouse_code__put","parameters":[{"name":"warehouse_code","in":"path","required":true,"schema":{"type":"string","title":"Warehouse Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarehouseUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarehouseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["masters","masters"],"summary":"Delete Warehouse","description":"Delete warehouse.","operationId":"delete_warehouse_api_masters_warehouses__warehouse_code__delete","parameters":[{"name":"warehouse_code","in":"path","required":true,"schema":{"type":"string","title":"Warehouse Code"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/masters/bulk-load":{"post":{"tags":["masters","masters"],"summary":"Bulk Load Masters","description":"Create or update masters in bulk.","operationId":"bulk_load_masters_api_masters_bulk_load_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterBulkLoadRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterBulkLoadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/lots":{"get":{"tags":["lots"],"summary":"List Lots","description":"ロット一覧取得.\n\nArgs:\n    skip: スキップ件数\n    limit: 取得件数\n    product_id: 製品IDでフィルタ（優先）\n    product_code: 製品コードでフィルタ\n    supplier_code: 仕入先コードでフィルタ\n    warehouse_code: 倉庫コードでフィルタ\n    expiry_from: 有効期限開始日\n    expiry_to: 有効期限終了日\n    with_stock: 在庫あり(>0)のみ取得\n    db: データベースセッション","operationId":"list_lots_api_lots_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"product_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Product Id"}},{"name":"product_code","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Code"}},{"name":"supplier_code","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplier Code"}},{"name":"warehouse_code","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Warehouse Code"}},{"name":"expiry_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expiry From"}},{"name":"expiry_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expiry To"}},{"name":"with_stock","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"With Stock"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LotResponse"},"title":"Response List Lots Api Lots Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["lots"],"summary":"Create Lot","description":"ロット新規登録.\n\n- ロットマスタ登録\n- 現在在庫テーブル初期化","operationId":"create_lot_api_lots_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LotCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LotResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/lots/{lot_id}":{"get":{"tags":["lots"],"summary":"Get Lot","description":"ロット詳細取得.","operationId":"get_lot_api_lots__lot_id__get","parameters":[{"name":"lot_id","in":"path","required":true,"schema":{"type":"integer","title":"Lot Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LotResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["lots"],"summary":"Update Lot","description":"ロット更新.","operationId":"update_lot_api_lots__lot_id__put","parameters":[{"name":"lot_id","in":"path","required":true,"schema":{"type":"integer","title":"Lot Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LotUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LotResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["lots"],"summary":"Delete Lot","description":"ロット削除.","operationId":"delete_lot_api_lots__lot_id__delete","parameters":[{"name":"lot_id","in":"path","required":true,"schema":{"type":"integer","title":"Lot Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/lots/{lot_id}/movements":{"get":{"tags":["lots"],"summary":"List Lot Movements","description":"ロットの在庫変動履歴取得.","operationId":"list_lot_movements_api_lots__lot_id__movements_get","parameters":[{"name":"lot_id","in":"path","required":true,"schema":{"type":"integer","title":"Lot Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StockHistoryResponse"},"title":"Response List Lot Movements Api Lots  Lot Id  Movements Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/lots/movements":{"post":{"tags":["lots"],"summary":"Create Stock Movement","description":"在庫変動記録.\n\n- 在庫変動履歴追加\n- 現在在庫更新","operationId":"create_stock_movement_api_lots_movements_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StockHistoryCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StockHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/orders":{"get":{"tags":["orders"],"summary":"List Orders","description":"受注一覧取得（読み取り専用）.\n\nトランザクション不要のため、通常のSessionを使用\n\nNote:\n    例外はグローバルハンドラで処理されるため、\n    ここではHTTPExceptionを投げない","operationId":"list_orders_api_orders_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"customer_code","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Code"}},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date From"}},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date To"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrderWithLinesResponse"},"title":"Response List Orders Api Orders Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["orders"],"summary":"Create Order","description":"受注作成.\n\n【修正#5】UnitOfWorkを依存注入で取得（SessionLocal直参照を回避）\n\nトランザクション管理:\n    - 成功時: UnitOfWorkが自動commit\n    - 例外発生時: UnitOfWorkが自動rollback\n\n例外処理:\n    - DuplicateOrderError → 409 Conflict\n    - OrderValidationError → 422 Unprocessable Entity\n    - ProductNotFoundError → 404 Not Found\n    - OrderDomainError → 400 Bad Request\n    上記はすべてグローバルハンドラで変換される","operationId":"create_order_api_orders_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderWithLinesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/orders/{order_id}":{"get":{"tags":["orders"],"summary":"Get Order","description":"受注詳細取得（読み取り専用、明細含む）.\n\nトランザクション不要のため、通常のSessionを使用\n\nNote:\n    - OrderNotFoundError → 404はグローバルハンドラが処理","operationId":"get_order_api_orders__order_id__get","parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"integer","title":"Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderWithLinesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/orders/{order_id}/status":{"patch":{"tags":["orders"],"summary":"Update Order Status","description":"受注ステータス更新.\n\n【修正#2】dict入力を廃止し、OrderStatusUpdateスキーマを使用\n【修正#5】UnitOfWorkを依存注入で取得\n\nArgs:\n    order_id: 受注ID\n    body: ステータス更新データ（Schema検証済み）\n    uow: UnitOfWork（依存注入）\n\nトランザクション管理:\n    - 成功時: UnitOfWorkが自動commit\n    - 例外発生時: UnitOfWorkが自動rollback\n\n例外処理:\n    - OrderNotFoundError → 404 Not Found\n    - InvalidOrderStatusError → 400 Bad Request\n    上記はグローバルハンドラで変換される","operationId":"update_order_status_api_orders__order_id__status_patch","parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"integer","title":"Order Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderStatusUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/orders/{order_id}/cancel":{"delete":{"tags":["orders"],"summary":"Cancel Order","description":"受注キャンセル.\n\n【修正#5】UnitOfWorkを依存注入で取得\n\nトランザクション管理:\n    - 成功時: UnitOfWorkが自動commit\n    - 例外発生時: UnitOfWorkが自動rollback\n\n例外処理:\n    - OrderNotFoundError → 404 Not Found\n    - InvalidOrderStatusError → 400 Bad Request\n    上記はグローバルハンドラで変換される\n\nReturns:\n    None (204 No Content)","operationId":"cancel_order_api_orders__order_id__cancel_delete","parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"integer","title":"Order Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/allocations/drag-assign":{"post":{"tags":["allocations"],"summary":"Drag Assign Allocation","description":"互換エンドポイント: ドラッグ引当.\n\nDEPRECATED: Use POST /api/allocation-suggestions/manual instead.\nThis endpoint will be removed in v3.0.\n\n※元々 orders.py に存在したものを再実装（URL・I/O変更なし）.","operationId":"drag_assign_allocation_api_allocations_drag_assign_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DragAssignRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"deprecated":true}},"/api/allocations/{allocation_id}":{"delete":{"tags":["allocations"],"summary":"Delete Allocation","description":"引当取消（DELETE API, ソフトキャンセル対応）.","operationId":"delete_allocation_api_allocations__allocation_id__delete","parameters":[{"name":"allocation_id","in":"path","required":true,"schema":{"type":"integer","title":"Allocation Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/allocations/preview":{"post":{"tags":["allocations"],"summary":"Preview Allocations","description":"在庫を変更しない FEFO 引当プレビュー.\n\nDEPRECATED: Use POST /api/allocation-suggestions/fefo instead.\nThis endpoint will be removed in v3.0.","operationId":"preview_allocations_api_allocations_preview_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FefoPreviewRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FefoPreviewResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"deprecated":true}},"/api/allocations/orders/{order_id}/allocate":{"post":{"tags":["allocations"],"summary":"Allocate Order","description":"注文ID単位でのFEFO引当確定.\n\nDEPRECATED: Use POST /api/allocations/commit instead.\nThis endpoint will be removed in v3.0.","operationId":"allocate_order_api_allocations_orders__order_id__allocate_post","deprecated":true,"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"integer","title":"Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FefoCommitResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/allocations/candidate-lots":{"get":{"tags":["allocations"],"summary":"Get Candidate Lots","description":"候補ロット一覧取得（product_id基準）.\n\nDEPRECATED: Use GET /api/allocation-candidates instead.\nThis endpoint will be removed in v3.0.\n\nArgs:\n    product_id: 製品ID（必須）\n    warehouse_id: 倉庫ID（任意フィルタ）\n    limit: 最大取得件数（デフォルト200）\n    db: データベースセッション\n\nReturns:\n    CandidateLotsResponse: 候補ロット一覧\n\nNote:\n    - free_qty > 0 のみ返却\n    - ロック済み・期限切れは除外\n    - 並び順: expiry_date NULLS FIRST, lot_id","operationId":"get_candidate_lots_api_allocations_candidate_lots_get","deprecated":true,"parameters":[{"name":"product_id","in":"query","required":true,"schema":{"type":"integer","title":"Product Id"}},{"name":"warehouse_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Warehouse Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":200,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CandidateLotsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/allocations/commit":{"post":{"tags":["allocations"],"summary":"Commit Allocation","description":"引当確定（v2.2.1準拠）.\n\nFEFO・手動いずれかで作成された仮引当案を元に、実績の allocations を生成し、在庫を確定させる。\n\nArgs:\n    request: 引当確定リクエスト（order_id）\n    db: データベースセッション\n\nReturns:\n    AllocationCommitResponse: 確定結果\n\nNote:\n    - allocations テーブルにレコード作成\n    - lots.quantity から実績数量を減算\n    - stock_history への出庫履歴記録","operationId":"commit_allocation_api_allocations_commit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllocationCommitRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllocationCommitResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/allocation-candidates":{"get":{"tags":["allocation-candidates"],"summary":"Get Allocation Candidates","description":"候補ロット一覧取得（v2.2.1準拠）.\n\n指定された受注明細に対して、利用可能なロット候補を返却する（プレビューのみ、DB保存なし）。\n\nArgs:\n    order_line_id: 対象の受注明細 ID（必須）\n    strategy: 引当戦略（デフォルト \"fefo\"、将来 \"fifo\" や \"custom\" 拡張を想定）\n    limit: 最大取得件数（デフォルト200）\n    db: データベースセッション\n\nReturns:\n    CandidateLotsResponse: 候補ロット一覧\n\nNote:\n    - free_qty > 0 のみ返却\n    - ロック済み・期限切れは除外\n    - 並び順: expiry_date NULLS FIRST, lot_id（FEFO戦略の場合）","operationId":"get_allocation_candidates_api_allocation_candidates_get","parameters":[{"name":"order_line_id","in":"query","required":true,"schema":{"type":"integer","title":"Order Line Id"}},{"name":"strategy","in":"query","required":false,"schema":{"type":"string","default":"fefo","title":"Strategy"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":200,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CandidateLotsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/allocation-suggestions":{"get":{"tags":["allocation-suggestions"],"summary":"List Allocation Suggestions","description":"引当推奨一覧取得（Phase 4）.\n\nArgs:\n    skip: スキップ件数\n    limit: 取得件数上限\n    forecast_line_id: フォーキャスト明細IDでフィルタ（オプション）\n    lot_id: ロットIDでフィルタ（オプション）\n    db: データベースセッション\n\nReturns:\n    引当推奨のリスト","operationId":"list_allocation_suggestions_api_allocation_suggestions_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"スキップ件数","default":0,"title":"Skip"},"description":"スキップ件数"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"取得件数上限","default":100,"title":"Limit"},"description":"取得件数上限"},{"name":"forecast_line_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"フォーキャスト明細IDでフィルタ","title":"Forecast Line Id"},"description":"フォーキャスト明細IDでフィルタ"},{"name":"lot_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"ロットIDでフィルタ","title":"Lot Id"},"description":"ロットIDでフィルタ"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllocationSuggestionListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/allocation-suggestions/{suggestion_id}":{"get":{"tags":["allocation-suggestions"],"summary":"Get Allocation Suggestion","description":"引当推奨詳細取得（Phase 4）.\n\nArgs:\n    suggestion_id: 推奨ID\n    db: データベースセッション\n\nReturns:\n    引当推奨詳細\n\nRaises:\n    HTTPException: 推奨が存在しない場合","operationId":"get_allocation_suggestion_api_allocation_suggestions__suggestion_id__get","parameters":[{"name":"suggestion_id","in":"path","required":true,"schema":{"type":"integer","title":"Suggestion Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllocationSuggestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["allocation-suggestions"],"summary":"Delete Allocation Suggestion","description":"引当推奨削除（Phase 4）.\n\nArgs:\n    suggestion_id: 推奨ID\n    db: データベースセッション\n\nRaises:\n    HTTPException: 推奨が存在しない場合","operationId":"delete_allocation_suggestion_api_allocation_suggestions__suggestion_id__delete","parameters":[{"name":"suggestion_id","in":"path","required":true,"schema":{"type":"integer","title":"Suggestion Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/allocation-suggestions/forecast-line/{forecast_line_id}":{"get":{"tags":["allocation-suggestions"],"summary":"Get Suggestions By Forecast Line","description":"フォーキャスト明細別の引当推奨取得（Phase 4）.\n\nArgs:\n    forecast_line_id: フォーキャスト明細ID\n    db: データベースセッション\n\nReturns:\n    引当推奨のリスト（降順）","operationId":"get_suggestions_by_forecast_line_api_allocation_suggestions_forecast_line__forecast_line_id__get","parameters":[{"name":"forecast_line_id","in":"path","required":true,"schema":{"type":"integer","title":"Forecast Line Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AllocationSuggestionResponse"},"title":"Response Get Suggestions By Forecast Line Api Allocation Suggestions Forecast Line  Forecast Line Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/allocation-suggestions/generate":{"post":{"tags":["allocation-suggestions"],"summary":"Generate Allocation Suggestions","description":"引当推奨生成（Phase 4）.\n\n指定されたフォーキャスト明細に対して、引当推奨を自動生成します。\n既存の推奨は削除され、新しい推奨が作成されます。\n\n注意: これはスタブ実装です。本番環境では、より高度な引当アルゴリズムを使用してください。\n\nArgs:\n    request: 引当推奨生成リクエスト\n    db: データベースセッション\n\nReturns:\n    生成された引当推奨のリスト","operationId":"generate_allocation_suggestions_api_allocation_suggestions_generate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllocationSuggestionGenerateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllocationSuggestionGenerateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/allocation-suggestions/forecast-line/{forecast_line_id}/clear":{"delete":{"tags":["allocation-suggestions"],"summary":"Delete Suggestions By Forecast Line","description":"フォーキャスト明細別の引当推奨一括削除（Phase 4）.\n\nArgs:\n    forecast_line_id: フォーキャスト明細ID\n    db: データベースセッション\n\nReturns:\n    None","operationId":"delete_suggestions_by_forecast_line_api_allocation_suggestions_forecast_line__forecast_line_id__clear_delete","parameters":[{"name":"forecast_line_id","in":"path","required":true,"schema":{"type":"integer","title":"Forecast Line Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/allocation-suggestions/manual":{"post":{"tags":["allocation-suggestions"],"summary":"Create Manual Suggestion","description":"手動仮引当（v2.2.1準拠）.\n\nユーザーが手動でロットを割り当てるケース（ドラッグ＆ドロップ操作など）。\nレスポンスのみで返し、DBには保存しない（プレビュー方式）。\n\nArgs:\n    request: 手動引当リクエスト（order_line_id, lot_id, quantity）\n    db: データベースセッション\n\nReturns:\n    AllocationSuggestionManualResponse: 仮引当プレビュー結果\n\nNote:\n    - DB に `allocation_suggestions` レコードは作成しない\n    - 在庫チェックのみ実施し、実際の引当は `/allocations/commit` で確定","operationId":"create_manual_suggestion_api_allocation_suggestions_manual_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllocationSuggestionManualRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllocationSuggestionManualResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/allocation-suggestions/fefo":{"post":{"tags":["allocation-suggestions"],"summary":"Create Fefo Suggestion","description":"FEFO仮引当（v2.2.1準拠）.\n\nFEFOロジックに基づいて、指定された注文に対する「推奨引当案」を一括生成。\nレスポンスのみで返し、DBには保存しない（プレビュー方式）。\n\nArgs:\n    request: FEFO引当リクエスト（order_id）\n    db: データベースセッション\n\nReturns:\n    FefoPreviewResponse: FEFO引当プレビュー結果\n\nNote:\n    - DB に `allocation_suggestions` レコードは作成しない\n    - 実際の引当は `/allocations/commit` で確定","operationId":"create_fefo_suggestion_api_allocation_suggestions_fefo_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FefoPreviewRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FefoPreviewResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/integration/ai-ocr/submit":{"post":{"tags":["integration"],"summary":"Submit Ocr Data","description":"AI-OCR受注データ取込.\n\nDEPRECATED: Use POST /api/submissions instead with source=\"ocr\".\nThis endpoint will be removed in v3.0.\n\n処理フロー:\n1. OCR取込ログ作成\n2. 各受注レコードについて:\n   - 得意先・製品のマスタチェック\n   - 受注ヘッダ作成\n   - 受注明細作成\n   - (オプション) フォーキャストマッチング\n3. 結果サマリ返却","operationId":"submit_ocr_data_api_integration_ai_ocr_submit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OcrSubmissionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OcrSubmissionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"deprecated":true}},"/api/integration/ai-ocr/submissions":{"get":{"tags":["integration"],"summary":"List Ocr Submissions","description":"OCR取込ログ一覧取得.\n\nDEPRECATED: This endpoint will be removed in v3.0.\nUse dedicated logs API instead.","operationId":"list_ocr_submissions_api_integration_ai_ocr_submissions_get","deprecated":true,"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OcrSubmissionResponse"},"title":"Response List Ocr Submissions Api Integration Ai Ocr Submissions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/integration/sap/register":{"post":{"tags":["integration"],"summary":"Register To Sap","description":"SAP連携(手動送信).\n\nDEPRECATED: This endpoint will be moved to /api/sap-sync in v3.0.\n\n注意: 実際のSAP APIは実装されていません。\nこれはモック実装です。","operationId":"register_to_sap_api_integration_sap_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SapRegisterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SapRegisterResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"deprecated":true}},"/api/integration/sap/logs":{"get":{"tags":["integration"],"summary":"List Sap Logs","description":"SAP連携ログ一覧取得.\n\nDEPRECATED: This endpoint will be moved to /api/sap-sync/logs in v3.0.","operationId":"list_sap_logs_api_integration_sap_logs_get","deprecated":true,"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SapSyncLogResponse"},"title":"Response List Sap Logs Api Integration Sap Logs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/submissions":{"post":{"tags":["submissions"],"summary":"Create Submission","description":"汎用サブミッション登録（v2.2.1準拠）.\n\n外部から取り込まれる入荷情報・受注情報などの受付口として、\n用途に依存しない汎用的な submissions リソースとして統合。\n\nArgs:\n    submission: サブミッションリクエスト\n    db: データベースセッション\n\nReturns:\n    SubmissionResponse: 取込結果\n\nNote:\n    - source: \"ocr\", \"excel\", \"api\" など\n    - payload: 任意のデータ構造（sourceに応じて処理を分岐）","operationId":"create_submission_api_submissions_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmissionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmissionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/stats":{"get":{"tags":["admin"],"summary":"Get Dashboard Stats","description":"ダッシュボード用の統計情報を返す.","operationId":"get_dashboard_stats_api_admin_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardStatsResponse"}}}}}}},"/api/admin/reset-database":{"post":{"tags":["admin"],"summary":"Reset Database","description":"データベースリセット（開発環境のみ）\n- テーブル構造は保持したまま、全データを削除\n- alembic_versionは保持（マイグレーション履歴を維持）\n- TRUNCATE ... RESTART IDENTITY CASCADEで高速にデータをクリア.","operationId":"reset_database_api_admin_reset_database_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseBase"}}}}}}},"/api/admin/seeds":{"post":{"tags":["admin"],"summary":"Create Seeds","description":"シードデータ生成（UPSERT方式）.\n\n- 既存データに追加する形でサンプルデータを投入\n- UPSERT（ON CONFLICT DO NOTHING）で重複を防止\n- dry_run=true で投入前のサマリのみ確認可能","operationId":"create_seeds_api_admin_seeds_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeedRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeedResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/diagnostics/allocatable-lots":{"get":{"tags":["admin"],"summary":"Get Allocatable Lots","description":"診断API: 引当可能ロット一覧（読み取り専用）.\n\nArgs:\n    prod: 製品コード（任意フィルタ）\n    wh: 倉庫コード（任意フィルタ）\n    limit: 最大取得件数（デフォルト100）\n    db: データベースセッション\n\nReturns:\n    AllocatableLotsResponse: 引当可能ロット一覧\n\nNote:\n    - 読み取り専用トランザクション\n    - free_qty > 0 のみ\n    - ロック済み・期限切れは除外","operationId":"get_allocatable_lots_api_admin_diagnostics_allocatable_lots_get","parameters":[{"name":"prod","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prod"}},{"name":"wh","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Wh"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllocatableLotsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/healthcheck/db-counts":{"get":{"tags":["admin"],"summary":"Get Db Counts","description":"各テーブルのレコード件数を返す.\n\nReturns:\n    dict: テーブル名をキー、件数を値とする辞書","operationId":"get_db_counts_api_admin_healthcheck_db_counts_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/admin/healthcheck/masters":{"get":{"tags":["admin"],"summary":"Get Masters Health","description":"マスタテーブルのヘルスチェック.\n\nReturns:\n    dict: 各マスタテーブルの件数とサンプルデータ（先頭5件のコード）","operationId":"get_masters_health_api_admin_healthcheck_masters_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/forecast/list":{"get":{"tags":["forecast"],"summary":"List Forecast Summary","description":"Forecast一覧（フロント表示用）.","operationId":"list_forecast_summary_api_forecast_list_get","parameters":[{"name":"product_code","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Code"}},{"name":"supplier_code","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplier Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegacyForecastListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/forecast":{"get":{"tags":["forecast"],"summary":"List Forecasts","description":"フォーキャスト一覧取得 (生データ).","operationId":"list_forecasts_api_forecast_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"product_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Id"}},{"name":"customer_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Id"}},{"name":"product_code","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Code"}},{"name":"customer_code","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Code"}},{"name":"granularity","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Granularity"}},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},{"name":"version_no","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Version No"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LegacyForecastResponse"},"title":"Response List Forecasts Api Forecast Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["forecast"],"summary":"Create Forecast","description":"フォーキャスト単一登録.","operationId":"create_forecast_api_forecast_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegacyForecastCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegacyForecastResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/forecast/{forecast_id}":{"get":{"tags":["forecast"],"summary":"Get Forecast","description":"フォーキャスト詳細取得.","operationId":"get_forecast_api_forecast__forecast_id__get","parameters":[{"name":"forecast_id","in":"path","required":true,"schema":{"type":"integer","title":"Forecast Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegacyForecastResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["forecast"],"summary":"Update Forecast","description":"フォーキャスト更新.","operationId":"update_forecast_api_forecast__forecast_id__put","parameters":[{"name":"forecast_id","in":"path","required":true,"schema":{"type":"integer","title":"Forecast Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegacyForecastUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegacyForecastResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["forecast"],"summary":"Delete Forecast","description":"フォーキャスト削除.","operationId":"delete_forecast_api_forecast__forecast_id__delete","parameters":[{"name":"forecast_id","in":"path","required":true,"schema":{"type":"integer","title":"Forecast Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/forecast/bulk":{"post":{"tags":["forecast"],"summary":"Bulk Import Forecasts","description":"フォーキャスト一括登録.","operationId":"bulk_import_forecasts_api_forecast_bulk_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegacyForecastBulkImportRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegacyForecastBulkImportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/forecast/versions":{"get":{"tags":["forecast"],"summary":"List Versions","description":"フォーキャストバージョン一覧取得.","operationId":"list_versions_api_forecast_versions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegacyForecastVersionListResponse"}}}}}}},"/api/forecast/activate":{"post":{"tags":["forecast"],"summary":"Activate Version","description":"指定バージョンをアクティブ化.","operationId":"activate_version_api_forecast_activate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegacyForecastActivateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegacyForecastActivateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/forecast/match":{"post":{"tags":["forecast"],"summary":"Match Forecasts","description":"フォーキャストと受注明細の手動マッチング.","operationId":"match_forecasts_api_forecast_match_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegacyForecastMatchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegacyForecastMatchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/forecasts/headers":{"get":{"tags":["forecasts"],"summary":"List Forecast Headers","description":"フォーキャストヘッダ一覧取得.\n\nArgs:\n    skip: スキップ件数（ページネーション用）\n    limit: 取得件数上限\n    customer_id: 得意先IDでフィルタ\n    delivery_place_id: 納入先IDでフィルタ\n    status: ステータスでフィルタ（active/completed/cancelled）\n    db: データベースセッション\n\nReturns:\n    フォーキャストヘッダのリスト","operationId":"list_forecast_headers_api_forecasts_headers_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"customer_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Customer Id"}},{"name":"delivery_place_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Delivery Place Id"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ForecastHeaderResponse"},"title":"Response List Forecast Headers Api Forecasts Headers Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["forecasts"],"summary":"Create Forecast Header","description":"フォーキャストヘッダ作成（明細も同時登録可能）.\n\nArgs:\n    header: フォーキャストヘッダ作成データ（明細含む）\n    db: データベースセッション\n\nReturns:\n    作成されたフォーキャストヘッダ（明細含む）","operationId":"create_forecast_header_api_forecasts_headers_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForecastHeaderCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForecastHeaderDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/forecasts/headers/{header_id}":{"get":{"tags":["forecasts"],"summary":"Get Forecast Header","description":"フォーキャストヘッダ詳細取得（明細含む）.\n\nArgs:\n    header_id: フォーキャストヘッダID\n    db: データベースセッション\n\nReturns:\n    フォーキャストヘッダ（明細含む）\n\nRaises:\n    HTTPException: ヘッダが見つからない場合は404","operationId":"get_forecast_header_api_forecasts_headers__header_id__get","parameters":[{"name":"header_id","in":"path","required":true,"schema":{"type":"integer","title":"Header Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForecastHeaderDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["forecasts"],"summary":"Update Forecast Header","description":"フォーキャストヘッダ更新.\n\nArgs:\n    header_id: フォーキャストヘッダID\n    header: 更新データ\n    db: データベースセッション\n\nReturns:\n    更新後のフォーキャストヘッダ\n\nRaises:\n    HTTPException: ヘッダが見つからない場合は404","operationId":"update_forecast_header_api_forecasts_headers__header_id__put","parameters":[{"name":"header_id","in":"path","required":true,"schema":{"type":"integer","title":"Header Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForecastHeaderUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForecastHeaderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["forecasts"],"summary":"Delete Forecast Header","description":"フォーキャストヘッダ削除（カスケード削除：明細も削除される）.\n\nArgs:\n    header_id: フォーキャストヘッダID\n    db: データベースセッション\n\nReturns:\n    None\n\nRaises:\n    HTTPException: ヘッダが見つからない場合は404","operationId":"delete_forecast_header_api_forecasts_headers__header_id__delete","parameters":[{"name":"header_id","in":"path","required":true,"schema":{"type":"integer","title":"Header Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/forecasts/headers/{header_id}/lines":{"get":{"tags":["forecasts"],"summary":"List Forecast Lines","description":"フォーキャスト明細一覧取得.\n\nArgs:\n    header_id: フォーキャストヘッダID\n    db: データベースセッション\n\nReturns:\n    フォーキャスト明細のリスト","operationId":"list_forecast_lines_api_forecasts_headers__header_id__lines_get","parameters":[{"name":"header_id","in":"path","required":true,"schema":{"type":"integer","title":"Header Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ForecastLineResponse"},"title":"Response List Forecast Lines Api Forecasts Headers  Header Id  Lines Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["forecasts"],"summary":"Create Forecast Line","description":"フォーキャスト明細追加.\n\nArgs:\n    header_id: フォーキャストヘッダID\n    line: 明細作成データ\n    db: データベースセッション\n\nReturns:\n    作成された明細\n\nRaises:\n    HTTPException: ヘッダが見つからない場合は404","operationId":"create_forecast_line_api_forecasts_headers__header_id__lines_post","parameters":[{"name":"header_id","in":"path","required":true,"schema":{"type":"integer","title":"Header Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForecastLineCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForecastLineResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/forecasts/lines/{line_id}":{"put":{"tags":["forecasts"],"summary":"Update Forecast Line","description":"フォーキャスト明細更新.\n\nArgs:\n    line_id: 明細ID\n    line: 更新データ\n    db: データベースセッション\n\nReturns:\n    更新後の明細\n\nRaises:\n    HTTPException: 明細が見つからない場合は404","operationId":"update_forecast_line_api_forecasts_lines__line_id__put","parameters":[{"name":"line_id","in":"path","required":true,"schema":{"type":"integer","title":"Line Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForecastLineUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForecastLineResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["forecasts"],"summary":"Delete Forecast Line","description":"フォーキャスト明細削除.\n\nArgs:\n    line_id: 明細ID\n    db: データベースセッション\n\nReturns:\n    None\n\nRaises:\n    HTTPException: 明細が見つからない場合は404","operationId":"delete_forecast_line_api_forecasts_lines__line_id__delete","parameters":[{"name":"line_id","in":"path","required":true,"schema":{"type":"integer","title":"Line Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/forecasts/headers/bulk-import":{"post":{"tags":["forecasts"],"summary":"Bulk Import Forecasts","description":"フォーキャスト一括登録（ヘッダ・明細同時登録）.\n\nArgs:\n    headers: フォーキャストヘッダリスト（各ヘッダに明細を含む）\n    db: データベースセッション\n\nReturns:\n    作成されたフォーキャストヘッダリスト（明細含む）\n\nNote:\n    - トランザクション単位で処理\n    - エラーが発生した場合は全体をロールバック","operationId":"bulk_import_forecasts_api_forecasts_headers_bulk_import_post","requestBody":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ForecastHeaderCreate"},"type":"array","title":"Headers"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ForecastHeaderDetailResponse"},"type":"array","title":"Response Bulk Import Forecasts Api Forecasts Headers Bulk Import Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/inbound-plans":{"get":{"tags":["inbound-plans"],"summary":"List Inbound Plans","description":"入荷予定一覧取得.\n\nArgs:\n    skip: スキップ件数（ページネーション用）\n    limit: 取得件数上限\n    supplier_id: 仕入先IDでフィルタ\n    status: ステータスでフィルタ（planned/partially_received/received/cancelled）\n    db: データベースセッション\n\nReturns:\n    入荷予定リスト","operationId":"list_inbound_plans_api_inbound_plans_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"supplier_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Supplier Id"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InboundPlanListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["inbound-plans"],"summary":"Create Inbound Plan","description":"入荷予定登録（明細も同時登録可能）.\n\nArgs:\n    plan: 入荷予定作成データ（明細含む）\n    db: データベースセッション\n\nReturns:\n    作成された入荷予定（明細含む）","operationId":"create_inbound_plan_api_inbound_plans_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InboundPlanCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InboundPlanDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/inbound-plans/{plan_id}":{"get":{"tags":["inbound-plans"],"summary":"Get Inbound Plan","description":"入荷予定詳細取得（明細含む）.\n\nArgs:\n    plan_id: 入荷予定ID\n    db: データベースセッション\n\nReturns:\n    入荷予定（明細含む）\n\nRaises:\n    HTTPException: 入荷予定が見つからない場合は404","operationId":"get_inbound_plan_api_inbound_plans__plan_id__get","parameters":[{"name":"plan_id","in":"path","required":true,"schema":{"type":"integer","title":"Plan Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InboundPlanDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["inbound-plans"],"summary":"Update Inbound Plan","description":"入荷予定更新.\n\nArgs:\n    plan_id: 入荷予定ID\n    plan: 更新データ\n    db: データベースセッション\n\nReturns:\n    更新後の入荷予定\n\nRaises:\n    HTTPException: 入荷予定が見つからない場合は404","operationId":"update_inbound_plan_api_inbound_plans__plan_id__put","parameters":[{"name":"plan_id","in":"path","required":true,"schema":{"type":"integer","title":"Plan Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InboundPlanUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InboundPlanResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["inbound-plans"],"summary":"Delete Inbound Plan","description":"入荷予定削除（カスケード削除：明細も削除される）.\n\nArgs:\n    plan_id: 入荷予定ID\n    db: データベースセッション\n\nReturns:\n    None\n\nRaises:\n    HTTPException: 入荷予定が見つからない場合は404","operationId":"delete_inbound_plan_api_inbound_plans__plan_id__delete","parameters":[{"name":"plan_id","in":"path","required":true,"schema":{"type":"integer","title":"Plan Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/inbound-plans/{plan_id}/lines":{"get":{"tags":["inbound-plans"],"summary":"List Inbound Plan Lines","description":"入荷予定明細一覧取得.\n\nArgs:\n    plan_id: 入荷予定ID\n    db: データベースセッション\n\nReturns:\n    入荷予定明細のリスト","operationId":"list_inbound_plan_lines_api_inbound_plans__plan_id__lines_get","parameters":[{"name":"plan_id","in":"path","required":true,"schema":{"type":"integer","title":"Plan Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/InboundPlanLineResponse"},"title":"Response List Inbound Plan Lines Api Inbound Plans  Plan Id  Lines Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["inbound-plans"],"summary":"Create Inbound Plan Line","description":"入荷予定明細追加.\n\nArgs:\n    plan_id: 入荷予定ID\n    line: 明細作成データ\n    db: データベースセッション\n\nReturns:\n    作成された明細\n\nRaises:\n    HTTPException: 入荷予定が見つからない場合は404","operationId":"create_inbound_plan_line_api_inbound_plans__plan_id__lines_post","parameters":[{"name":"plan_id","in":"path","required":true,"schema":{"type":"integer","title":"Plan Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InboundPlanLineCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InboundPlanLineResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/inbound-plans/{plan_id}/receive":{"post":{"tags":["inbound-plans"],"summary":"Receive Inbound Plan","description":"入荷実績登録（ロット自動生成）.\n\nArgs:\n    plan_id: 入荷予定ID\n    request: 入荷実績データ\n    db: データベースセッション\n\nReturns:\n    入荷実績登録結果（生成されたロットIDリスト）\n\nRaises:\n    HTTPException: 入荷予定が見つからない場合は404","operationId":"receive_inbound_plan_api_inbound_plans__plan_id__receive_post","parameters":[{"name":"plan_id","in":"path","required":true,"schema":{"type":"integer","title":"Plan Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InboundPlanReceiveRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InboundPlanReceiveResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/adjustments":{"post":{"tags":["adjustments"],"summary":"Create Adjustment","description":"在庫調整登録.\n\nArgs:\n    adjustment: 在庫調整データ\n    db: データベースセッション\n\nReturns:\n    作成された在庫調整レコード\n\nNote:\n    - ロットの current_quantity を更新\n    - stock_history に履歴を記録","operationId":"create_adjustment_api_adjustments_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdjustmentCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdjustmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["adjustments"],"summary":"List Adjustments","description":"在庫調整履歴取得.\n\nArgs:\n    skip: スキップ件数（ページネーション用）\n    limit: 取得件数上限\n    lot_id: ロットIDでフィルタ\n    adjustment_type: 調整タイプでフィルタ\n    db: データベースセッション\n\nReturns:\n    在庫調整レコードのリスト","operationId":"list_adjustments_api_adjustments_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"lot_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Lot Id"}},{"name":"adjustment_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Adjustment Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AdjustmentResponse"},"title":"Response List Adjustments Api Adjustments Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/adjustments/{adjustment_id}":{"get":{"tags":["adjustments"],"summary":"Get Adjustment","description":"在庫調整詳細取得.\n\nArgs:\n    adjustment_id: 在庫調整ID\n    db: データベースセッション\n\nReturns:\n    在庫調整レコード\n\nRaises:\n    HTTPException: レコードが見つからない場合は404","operationId":"get_adjustment_api_adjustments__adjustment_id__get","parameters":[{"name":"adjustment_id","in":"path","required":true,"schema":{"type":"integer","title":"Adjustment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdjustmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/inventory-items":{"get":{"tags":["inventory-items"],"summary":"List Inventory Items","description":"在庫サマリ一覧取得.\n\nArgs:\n    skip: スキップ件数（ページネーション用）\n    limit: 取得件数上限\n    product_id: 製品IDでフィルタ\n    warehouse_id: 倉庫IDでフィルタ\n    db: データベースセッション\n\nReturns:\n    在庫サマリのリスト","operationId":"list_inventory_items_api_inventory_items_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"product_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Product Id"}},{"name":"warehouse_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Warehouse Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/InventoryItemResponse"},"title":"Response List Inventory Items Api Inventory Items Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/inventory-items/{product_id}/{warehouse_id}":{"get":{"tags":["inventory-items"],"summary":"Get Inventory Item","description":"在庫サマリ詳細取得（製品ID + 倉庫ID単位）.\n\nArgs:\n    product_id: 製品ID\n    warehouse_id: 倉庫ID\n    db: データベースセッション\n\nReturns:\n    在庫サマリ\n\nRaises:\n    HTTPException: 在庫サマリが見つからない場合は404","operationId":"get_inventory_item_api_inventory_items__product_id___warehouse_id__get","parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}},{"name":"warehouse_id","in":"path","required":true,"schema":{"type":"integer","title":"Warehouse Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InventoryItemResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/customer-items":{"get":{"tags":["customer-items"],"summary":"List Customer Items","description":"得意先品番マッピング一覧取得.\n\nArgs:\n    skip: スキップ件数\n    limit: 取得件数上限\n    customer_id: 得意先IDでフィルタ（オプション）\n    product_id: 製品IDでフィルタ（オプション）\n    db: データベースセッション\n\nReturns:\n    得意先品番マッピングのリスト","operationId":"list_customer_items_api_customer_items_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"customer_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"得意先IDでフィルタ","title":"Customer Id"},"description":"得意先IDでフィルタ"},{"name":"product_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"製品IDでフィルタ","title":"Product Id"},"description":"製品IDでフィルタ"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CustomerItemResponse"},"title":"Response List Customer Items Api Customer Items Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["customer-items"],"summary":"Create Customer Item","description":"得意先品番マッピング登録.\n\nArgs:\n    item: 登録する品番マッピング情報\n    db: データベースセッション\n\nReturns:\n    登録された品番マッピング\n\nRaises:\n    HTTPException: 既に同じマッピングが存在する場合","operationId":"create_customer_item_api_customer_items_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerItemCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerItemResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/customer-items/{customer_id}":{"get":{"tags":["customer-items"],"summary":"List Customer Items By Customer","description":"特定得意先の品番マッピング一覧取得.\n\nArgs:\n    customer_id: 得意先ID\n    db: データベースセッション\n\nReturns:\n    該当得意先の品番マッピングリスト","operationId":"list_customer_items_by_customer_api_customer_items__customer_id__get","parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"integer","title":"Customer Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CustomerItemResponse"},"title":"Response List Customer Items By Customer Api Customer Items  Customer Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/customer-items/{customer_id}/{external_product_code}":{"put":{"tags":["customer-items"],"summary":"Update Customer Item","description":"得意先品番マッピング更新.\n\nArgs:\n    customer_id: 得意先ID\n    external_product_code: 得意先品番\n    item: 更新する品番マッピング情報\n    db: データベースセッション\n\nReturns:\n    更新された品番マッピング\n\nRaises:\n    HTTPException: マッピングが存在しない場合","operationId":"update_customer_item_api_customer_items__customer_id___external_product_code__put","parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"integer","title":"Customer Id"}},{"name":"external_product_code","in":"path","required":true,"schema":{"type":"string","title":"External Product Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerItemUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerItemResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["customer-items"],"summary":"Delete Customer Item","description":"得意先品番マッピング削除.\n\nArgs:\n    customer_id: 得意先ID\n    external_product_code: 得意先品番\n    db: データベースセッション\n\nRaises:\n    HTTPException: マッピングが存在しない場合","operationId":"delete_customer_item_api_customer_items__customer_id___external_product_code__delete","parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"integer","title":"Customer Id"}},{"name":"external_product_code","in":"path","required":true,"schema":{"type":"string","title":"External Product Code"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users":{"get":{"tags":["users"],"summary":"List Users","description":"ユーザー一覧取得.\n\nArgs:\n    skip: スキップ件数\n    limit: 取得件数上限\n    is_active: 有効フラグでフィルタ（オプション）\n    db: データベースセッション\n\nReturns:\n    ユーザーのリスト","operationId":"list_users_api_users_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"有効フラグでフィルタ","title":"Is Active"},"description":"有効フラグでフィルタ"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"},"title":"Response List Users Api Users Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["users"],"summary":"Create User","description":"ユーザー作成.\n\nArgs:\n    user: 作成するユーザー情報\n    db: データベースセッション\n\nReturns:\n    作成されたユーザー\n\nRaises:\n    HTTPException: ユーザー名またはメールアドレスが既に存在する場合","operationId":"create_user_api_users_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/{user_id}":{"get":{"tags":["users"],"summary":"Get User","description":"ユーザー詳細取得.\n\nArgs:\n    user_id: ユーザーID\n    db: データベースセッション\n\nReturns:\n    ユーザー詳細（ロール情報含む）\n\nRaises:\n    HTTPException: ユーザーが存在しない場合","operationId":"get_user_api_users__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserWithRoles"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["users"],"summary":"Update User","description":"ユーザー更新.\n\nArgs:\n    user_id: ユーザーID\n    user: 更新するユーザー情報\n    db: データベースセッション\n\nReturns:\n    更新されたユーザー\n\nRaises:\n    HTTPException: ユーザーが存在しない場合","operationId":"update_user_api_users__user_id__put","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["users"],"summary":"Delete User","description":"ユーザー削除.\n\nArgs:\n    user_id: ユーザーID\n    db: データベースセッション\n\nRaises:\n    HTTPException: ユーザーが存在しない場合","operationId":"delete_user_api_users__user_id__delete","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/{user_id}/roles":{"patch":{"tags":["users"],"summary":"Assign User Roles","description":"ユーザーへのロール割当.\n\nArgs:\n    user_id: ユーザーID\n    assignment: 割り当てるロールID\n    db: データベースセッション\n\nReturns:\n    ロール割り当て後のユーザー情報\n\nRaises:\n    HTTPException: ユーザーが存在しない場合","operationId":"assign_user_roles_api_users__user_id__roles_patch","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRoleAssignment"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserWithRoles"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/roles":{"get":{"tags":["roles"],"summary":"List Roles","description":"ロール一覧取得.\n\nArgs:\n    skip: スキップ件数\n    limit: 取得件数上限\n    db: データベースセッション\n\nReturns:\n    ロールのリスト","operationId":"list_roles_api_roles_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RoleResponse"},"title":"Response List Roles Api Roles Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["roles"],"summary":"Create Role","description":"ロール作成.\n\nArgs:\n    role: 作成するロール情報\n    db: データベースセッション\n\nReturns:\n    作成されたロール\n\nRaises:\n    HTTPException: ロールコードが既に存在する場合","operationId":"create_role_api_roles_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/roles/{role_id}":{"get":{"tags":["roles"],"summary":"Get Role","description":"ロール詳細取得.\n\nArgs:\n    role_id: ロールID\n    db: データベースセッション\n\nReturns:\n    ロール詳細\n\nRaises:\n    HTTPException: ロールが存在しない場合","operationId":"get_role_api_roles__role_id__get","parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["roles"],"summary":"Update Role","description":"ロール更新.\n\nArgs:\n    role_id: ロールID\n    role: 更新するロール情報\n    db: データベースセッション\n\nReturns:\n    更新されたロール\n\nRaises:\n    HTTPException: ロールが存在しない場合","operationId":"update_role_api_roles__role_id__put","parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["roles"],"summary":"Delete Role","description":"ロール削除.\n\nArgs:\n    role_id: ロールID\n    db: データベースセッション\n\nRaises:\n    HTTPException: ロールが存在しない場合、またはロールが使用中の場合","operationId":"delete_role_api_roles__role_id__delete","parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/warehouses":{"get":{"tags":["warehouses"],"summary":"List Warehouses","description":"List warehouses.","operationId":"list_warehouses_api_warehouses_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WarehouseResponse"},"title":"Response List Warehouses Api Warehouses Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["warehouses"],"summary":"Create Warehouse","description":"Create warehouse.","operationId":"create_warehouse_api_warehouses_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarehouseCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarehouseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/warehouses/{warehouse_code}":{"get":{"tags":["warehouses"],"summary":"Get Warehouse","description":"Get warehouse by code.","operationId":"get_warehouse_api_warehouses__warehouse_code__get","parameters":[{"name":"warehouse_code","in":"path","required":true,"schema":{"type":"string","title":"Warehouse Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarehouseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["warehouses"],"summary":"Update Warehouse","description":"Update warehouse.","operationId":"update_warehouse_api_warehouses__warehouse_code__put","parameters":[{"name":"warehouse_code","in":"path","required":true,"schema":{"type":"string","title":"Warehouse Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarehouseUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarehouseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["warehouses"],"summary":"Delete Warehouse","description":"Delete warehouse.","operationId":"delete_warehouse_api_warehouses__warehouse_code__delete","parameters":[{"name":"warehouse_code","in":"path","required":true,"schema":{"type":"string","title":"Warehouse Code"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/suppliers":{"get":{"tags":["suppliers"],"summary":"List Suppliers","description":"List suppliers.","operationId":"list_suppliers_api_suppliers_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SupplierResponse"},"title":"Response List Suppliers Api Suppliers Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["suppliers"],"summary":"Create Supplier","description":"Create supplier.","operationId":"create_supplier_api_suppliers_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupplierCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupplierResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/suppliers/{supplier_code}":{"get":{"tags":["suppliers"],"summary":"Get Supplier","description":"Get supplier by code.","operationId":"get_supplier_api_suppliers__supplier_code__get","parameters":[{"name":"supplier_code","in":"path","required":true,"schema":{"type":"string","title":"Supplier Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupplierResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["suppliers"],"summary":"Update Supplier","description":"Update supplier.","operationId":"update_supplier_api_suppliers__supplier_code__put","parameters":[{"name":"supplier_code","in":"path","required":true,"schema":{"type":"string","title":"Supplier Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupplierUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupplierResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["suppliers"],"summary":"Delete Supplier","description":"Delete supplier.","operationId":"delete_supplier_api_suppliers__supplier_code__delete","parameters":[{"name":"supplier_code","in":"path","required":true,"schema":{"type":"string","title":"Supplier Code"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/customers":{"get":{"tags":["customers"],"summary":"List Customers","description":"Return customers.","operationId":"list_customers_api_customers_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CustomerResponse"},"title":"Response List Customers Api Customers Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["customers"],"summary":"Create Customer","description":"Create a new customer.","operationId":"create_customer_api_customers_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/customers/{customer_code}":{"get":{"tags":["customers"],"summary":"Get Customer","description":"Fetch a customer by code.","operationId":"get_customer_api_customers__customer_code__get","parameters":[{"name":"customer_code","in":"path","required":true,"schema":{"type":"string","title":"Customer Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["customers"],"summary":"Update Customer","description":"Update a customer.","operationId":"update_customer_api_customers__customer_code__put","parameters":[{"name":"customer_code","in":"path","required":true,"schema":{"type":"string","title":"Customer Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["customers"],"summary":"Delete Customer","description":"Delete a customer.","operationId":"delete_customer_api_customers__customer_code__delete","parameters":[{"name":"customer_code","in":"path","required":true,"schema":{"type":"string","title":"Customer Code"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/products":{"get":{"tags":["products"],"summary":"List Products","description":"Return a paginated list of products.","operationId":"list_products_api_products_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductResponse"},"title":"Response List Products Api Products Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["products"],"summary":"Create Product","description":"Create a new product.","operationId":"create_product_api_products_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/products/{product_code}":{"get":{"tags":["products"],"summary":"Get Product","description":"Fetch a product by its code.","operationId":"get_product_api_products__product_code__get","parameters":[{"name":"product_code","in":"path","required":true,"schema":{"type":"string","title":"Product Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["products"],"summary":"Update Product","description":"Update an existing product.","operationId":"update_product_api_products__product_code__put","parameters":[{"name":"product_code","in":"path","required":true,"schema":{"type":"string","title":"Product Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["products"],"summary":"Delete Product","description":"Delete a product by its code.","operationId":"delete_product_api_products__product_code__delete","parameters":[{"name":"product_code","in":"path","required":true,"schema":{"type":"string","title":"Product Code"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/warehouse-alloc/warehouses":{"get":{"tags":["warehouse-alloc"],"summary":"List Warehouses","description":"配分対象の倉庫一覧（新しいwarehouseテーブル）を取得.","operationId":"list_warehouses_api_warehouse_alloc_warehouses_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarehouseListResponse"}}}}}}},"/api/healthz":{"get":{"tags":["health"],"summary":"Healthz","operationId":"healthz_api_healthz_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/readyz":{"get":{"tags":["health"],"summary":"Readyz","operationId":"readyz_api_readyz_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/health":{"get":{"tags":["health"],"summary":"Health","operationId":"health_api_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/orders/validate":{"post":{"tags":["orders"],"summary":"受注在庫検証","operationId":"validate_order_stock_api_orders_validate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderValidationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderValidationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/simulate-seed-data":{"post":{"tags":["admin"],"summary":"Simulate Seed Data","description":"テストデータシミュレーションを開始.\n\n- Reset → Insert を一括実行\n- バックグラウンドでジョブを起動\n- task_id を返す","operationId":"simulate_seed_data_api_admin_simulate_seed_data_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SimulateSeedRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SimulateSeedResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/simulate-progress/{task_id}":{"get":{"tags":["admin"],"summary":"Get Simulate Progress","description":"テストデータシミュレーションの進捗を取得.\n\n- ポーリングJSONで進捗を返す（3〜5秒間隔でクライアントが呼び出す想定）","operationId":"get_simulate_progress_api_admin_simulate_progress__task_id__get","parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","description":"タスクID","title":"Task Id"},"description":"タスクID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SimulateProgressResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/simulate-result/{task_id}":{"get":{"tags":["admin"],"summary":"Get Simulate Result","description":"テストデータシミュレーションの結果を取得.\n\n- 完了サマリを返す","operationId":"get_simulate_result_api_admin_simulate_result__task_id__get","parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","description":"タスクID","title":"Task Id"},"description":"タスクID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SimulateResultResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/seed-snapshots":{"get":{"tags":["admin"],"summary":"List Seed Snapshots","description":"スナップショット一覧を取得.","operationId":"list_seed_snapshots_api_admin_seed_snapshots_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeedSnapshotListResponse"}}}}}},"post":{"tags":["admin"],"summary":"Create Seed Snapshot","description":"スナップショットを手動作成.","operationId":"create_seed_snapshot_api_admin_seed_snapshots_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeedSnapshotCreateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeedSnapshotCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/seed-snapshots/{snapshot_id}":{"delete":{"tags":["admin"],"summary":"Delete Seed Snapshot","description":"スナップショットを削除.","operationId":"delete_seed_snapshot_api_admin_seed_snapshots__snapshot_id__delete","parameters":[{"name":"snapshot_id","in":"path","required":true,"schema":{"type":"integer","description":"スナップショットID","title":"Snapshot Id"},"description":"スナップショットID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/seed-snapshots/{snapshot_id}/restore":{"post":{"tags":["admin"],"summary":"Restore Seed Snapshot","description":"スナップショットから復元.\n\n- 保存されたパラメータで Reset → Insert を実行\n- task_id を返す","operationId":"restore_seed_snapshot_api_admin_seed_snapshots__snapshot_id__restore_post","parameters":[{"name":"snapshot_id","in":"path","required":true,"schema":{"type":"integer","description":"スナップショットID","title":"Snapshot Id"},"description":"スナップショットID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeedSnapshotRestoreResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/operation-logs":{"get":{"tags":["logs"],"summary":"List Operation Logs","description":"操作ログ一覧取得.\n\nArgs:\n    skip: スキップ件数\n    limit: 取得件数上限\n    user_id: ユーザーIDでフィルタ（オプション）\n    operation_type: 操作種別でフィルタ（オプション）\n    target_table: 対象テーブル名でフィルタ（オプション）\n    start_date: 開始日時（オプション）\n    end_date: 終了日時（オプション）\n    db: データベースセッション\n\nReturns:\n    操作ログのリスト（ページネーション付き）","operationId":"list_operation_logs_api_operation_logs_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"スキップ件数","default":0,"title":"Skip"},"description":"スキップ件数"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"取得件数上限","default":100,"title":"Limit"},"description":"取得件数上限"},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"ユーザーIDでフィルタ","title":"User Id"},"description":"ユーザーIDでフィルタ"},{"name":"operation_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"操作種別でフィルタ","title":"Operation Type"},"description":"操作種別でフィルタ"},{"name":"target_table","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"対象テーブル名でフィルタ","title":"Target Table"},"description":"対象テーブル名でフィルタ"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"開始日時（この日時以降）","title":"Start Date"},"description":"開始日時（この日時以降）"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"終了日時（この日時以前）","title":"End Date"},"description":"終了日時（この日時以前）"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationLogListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/operation-logs/{log_id}":{"get":{"tags":["logs"],"summary":"Get Operation Log","description":"操作ログ詳細取得.\n\nArgs:\n    log_id: ログID\n    db: データベースセッション\n\nReturns:\n    操作ログ詳細\n\nRaises:\n    HTTPException: ログが存在しない場合","operationId":"get_operation_log_api_operation_logs__log_id__get","parameters":[{"name":"log_id","in":"path","required":true,"schema":{"type":"integer","title":"Log Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationLogResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/master-change-logs":{"get":{"tags":["logs"],"summary":"List Master Change Logs","description":"マスタ変更履歴一覧取得.\n\nArgs:\n    skip: スキップ件数\n    limit: 取得件数上限\n    table_name: テーブル名でフィルタ（オプション）\n    record_id: レコードIDでフィルタ（オプション）\n    change_type: 変更種別でフィルタ（オプション）\n    changed_by: 変更者でフィルタ（オプション）\n    start_date: 開始日時（オプション）\n    end_date: 終了日時（オプション）\n    db: データベースセッション\n\nReturns:\n    マスタ変更履歴のリスト（ページネーション付き）","operationId":"list_master_change_logs_api_master_change_logs_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"スキップ件数","default":0,"title":"Skip"},"description":"スキップ件数"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"取得件数上限","default":100,"title":"Limit"},"description":"取得件数上限"},{"name":"table_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"テーブル名でフィルタ","title":"Table Name"},"description":"テーブル名でフィルタ"},{"name":"record_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"レコードIDでフィルタ","title":"Record Id"},"description":"レコードIDでフィルタ"},{"name":"change_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"変更種別でフィルタ","title":"Change Type"},"description":"変更種別でフィルタ"},{"name":"changed_by","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"変更者でフィルタ","title":"Changed By"},"description":"変更者でフィルタ"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"開始日時（この日時以降）","title":"Start Date"},"description":"開始日時（この日時以降）"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"終了日時（この日時以前）","title":"End Date"},"description":"終了日時（この日時以前）"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterChangeLogListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/master-change-logs/{change_log_id}":{"get":{"tags":["logs"],"summary":"Get Master Change Log","description":"マスタ変更履歴詳細取得.\n\nArgs:\n    change_log_id: 変更ログID\n    db: データベースセッション\n\nReturns:\n    マスタ変更履歴詳細\n\nRaises:\n    HTTPException: ログが存在しない場合","operationId":"get_master_change_log_api_master_change_logs__change_log_id__get","parameters":[{"name":"change_log_id","in":"path","required":true,"schema":{"type":"integer","title":"Change Log Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterChangeLogResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/master-change-logs/record/{table_name}/{record_id}":{"get":{"tags":["logs"],"summary":"Get Master Change Logs By Record","description":"特定レコードのマスタ変更履歴取得.\n\nArgs:\n    table_name: テーブル名\n    record_id: レコードID\n    db: データベースセッション\n\nReturns:\n    マスタ変更履歴のリスト（降順）","operationId":"get_master_change_logs_by_record_api_master_change_logs_record__table_name___record_id__get","parameters":[{"name":"table_name","in":"path","required":true,"schema":{"type":"string","title":"Table Name"}},{"name":"record_id","in":"path","required":true,"schema":{"type":"integer","title":"Record Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MasterChangeLogResponse"},"title":"Response Get Master Change Logs By Record Api Master Change Logs Record  Table Name   Record Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/business-rules":{"get":{"tags":["business-rules"],"summary":"List Business Rules","description":"業務ルール一覧取得.\n\nArgs:\n    skip: スキップ件数\n    limit: 取得件数上限\n    rule_type: ルール種別でフィルタ（オプション）\n    is_active: 有効フラグでフィルタ（オプション）\n    db: データベースセッション\n\nReturns:\n    業務ルールのリスト","operationId":"list_business_rules_api_business_rules_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"スキップ件数","default":0,"title":"Skip"},"description":"スキップ件数"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"取得件数上限","default":100,"title":"Limit"},"description":"取得件数上限"},{"name":"rule_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ルール種別でフィルタ","title":"Rule Type"},"description":"ルール種別でフィルタ"},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"有効フラグでフィルタ","title":"Is Active"},"description":"有効フラグでフィルタ"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusinessRuleListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["business-rules"],"summary":"Create Business Rule","description":"業務ルール作成.\n\nArgs:\n    rule: 作成する業務ルール情報\n    db: データベースセッション\n\nReturns:\n    作成された業務ルール\n\nRaises:\n    HTTPException: ルールコードが重複している場合","operationId":"create_business_rule_api_business_rules_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusinessRuleCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusinessRuleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/business-rules/{rule_id}":{"get":{"tags":["business-rules"],"summary":"Get Business Rule","description":"業務ルール詳細取得（ID指定）.\n\nArgs:\n    rule_id: ルールID\n    db: データベースセッション\n\nReturns:\n    業務ルール詳細\n\nRaises:\n    HTTPException: ルールが存在しない場合","operationId":"get_business_rule_api_business_rules__rule_id__get","parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"integer","title":"Rule Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusinessRuleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["business-rules"],"summary":"Update Business Rule","description":"業務ルール更新（ID指定）.\n\nArgs:\n    rule_id: ルールID\n    rule: 更新する業務ルール情報\n    db: データベースセッション\n\nReturns:\n    更新された業務ルール\n\nRaises:\n    HTTPException: ルールが存在しない場合","operationId":"update_business_rule_api_business_rules__rule_id__put","parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"integer","title":"Rule Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusinessRuleUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusinessRuleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["business-rules"],"summary":"Delete Business Rule","description":"業務ルール削除.\n\nArgs:\n    rule_id: ルールID\n    db: データベースセッション\n\nRaises:\n    HTTPException: ルールが存在しない場合","operationId":"delete_business_rule_api_business_rules__rule_id__delete","parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"integer","title":"Rule Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/business-rules/code/{rule_code}":{"get":{"tags":["business-rules"],"summary":"Get Business Rule By Code","description":"業務ルール詳細取得（コード指定）.\n\nArgs:\n    rule_code: ルールコード\n    db: データベースセッション\n\nReturns:\n    業務ルール詳細\n\nRaises:\n    HTTPException: ルールが存在しない場合","operationId":"get_business_rule_by_code_api_business_rules_code__rule_code__get","parameters":[{"name":"rule_code","in":"path","required":true,"schema":{"type":"string","title":"Rule Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusinessRuleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["business-rules"],"summary":"Update Business Rule By Code","description":"業務ルール更新（コード指定）.\n\nArgs:\n    rule_code: ルールコード\n    rule: 更新する業務ルール情報\n    db: データベースセッション\n\nReturns:\n    更新された業務ルール\n\nRaises:\n    HTTPException: ルールが存在しない場合","operationId":"update_business_rule_by_code_api_business_rules_code__rule_code__put","parameters":[{"name":"rule_code","in":"path","required":true,"schema":{"type":"string","title":"Rule Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusinessRuleUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusinessRuleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/business-rules/{rule_id}/toggle":{"patch":{"tags":["business-rules"],"summary":"Toggle Business Rule Active","description":"業務ルール有効/無効切り替え.\n\nArgs:\n    rule_id: ルールID\n    db: データベースセッション\n\nReturns:\n    更新された業務ルール\n\nRaises:\n    HTTPException: ルールが存在しない場合","operationId":"toggle_business_rule_active_api_business_rules__rule_id__toggle_patch","parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"integer","title":"Rule Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusinessRuleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batch-jobs":{"get":{"tags":["batch-jobs"],"summary":"List Batch Jobs","description":"バッチジョブ一覧取得.\n\nArgs:\n    skip: スキップ件数\n    limit: 取得件数上限\n    job_type: ジョブ種別でフィルタ（オプション）\n    status: ステータスでフィルタ（オプション）\n    db: データベースセッション\n\nReturns:\n    バッチジョブのリスト（ページネーション付き）","operationId":"list_batch_jobs_api_batch_jobs_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"スキップ件数","default":0,"title":"Skip"},"description":"スキップ件数"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"取得件数上限","default":100,"title":"Limit"},"description":"取得件数上限"},{"name":"job_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ジョブ種別でフィルタ","title":"Job Type"},"description":"ジョブ種別でフィルタ"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ステータスでフィルタ","title":"Status"},"description":"ステータスでフィルタ"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchJobListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["batch-jobs"],"summary":"Create Batch Job","description":"バッチジョブ作成.\n\nArgs:\n    job: 作成するバッチジョブ情報\n    db: データベースセッション\n\nReturns:\n    作成されたバッチジョブ","operationId":"create_batch_job_api_batch_jobs_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchJobCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batch-jobs/{job_id}":{"get":{"tags":["batch-jobs"],"summary":"Get Batch Job","description":"バッチジョブ詳細取得.\n\nArgs:\n    job_id: ジョブID\n    db: データベースセッション\n\nReturns:\n    バッチジョブ詳細\n\nRaises:\n    HTTPException: ジョブが存在しない場合","operationId":"get_batch_job_api_batch_jobs__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"integer","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["batch-jobs"],"summary":"Delete Batch Job","description":"バッチジョブ削除.\n\nArgs:\n    job_id: ジョブID\n    db: データベースセッション\n\nRaises:\n    HTTPException: ジョブが存在しない場合","operationId":"delete_batch_job_api_batch_jobs__job_id__delete","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"integer","title":"Job Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batch-jobs/{job_id}/execute":{"post":{"tags":["batch-jobs"],"summary":"Execute Batch Job","description":"バッチジョブ実行.\n\n注意: これはスタブ実装です。本番環境では、非同期ジョブキュー（Celery、RQ等）を使用してください。\n\nArgs:\n    job_id: ジョブID\n    request: 実行リクエスト（パラメータ上書き可能）\n    db: データベースセッション\n\nReturns:\n    実行結果\n\nRaises:\n    HTTPException: ジョブが存在しない場合","operationId":"execute_batch_job_api_batch_jobs__job_id__execute_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"integer","title":"Job Id"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/BatchJobExecuteRequest"},{"type":"null"}],"title":"Request"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchJobExecuteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batch-jobs/{job_id}/cancel":{"post":{"tags":["batch-jobs"],"summary":"Cancel Batch Job","description":"バッチジョブキャンセル.\n\nArgs:\n    job_id: ジョブID\n    db: データベースセッション\n\nReturns:\n    キャンセルされたバッチジョブ\n\nRaises:\n    HTTPException: ジョブが存在しないか、キャンセルできない状態の場合","operationId":"cancel_batch_job_api_batch_jobs__job_id__cancel_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"integer","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"ルートエンドポイント.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ActualCounts":{"properties":{"customers":{"type":"integer","title":"Customers"},"suppliers":{"type":"integer","title":"Suppliers"},"delivery_places":{"type":"integer","title":"Delivery Places"},"products":{"type":"integer","title":"Products"},"forecasts":{"type":"integer","title":"Forecasts"},"warehouses":{"type":"integer","title":"Warehouses"},"lots":{"type":"integer","title":"Lots"},"stock_movements":{"type":"integer","title":"Stock Movements"},"orders":{"type":"integer","title":"Orders"},"order_lines":{"type":"integer","title":"Order Lines"},"allocations":{"type":"integer","title":"Allocations"}},"type":"object","required":["customers","suppliers","delivery_places","products","forecasts","warehouses","lots","stock_movements","orders","order_lines","allocations"],"title":"ActualCounts","description":"実際のDB件数（投入後）."},"AdjustmentCreate":{"properties":{"lot_id":{"type":"integer","title":"Lot Id"},"adjustment_type":{"$ref":"#/components/schemas/AdjustmentType"},"adjusted_quantity":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Adjusted Quantity"},"reason":{"type":"string","title":"Reason"},"adjusted_by":{"type":"integer","title":"Adjusted By"}},"type":"object","required":["lot_id","adjustment_type","adjusted_quantity","reason","adjusted_by"],"title":"AdjustmentCreate","description":"Payload for recording adjustments."},"AdjustmentResponse":{"properties":{"lot_id":{"type":"integer","title":"Lot Id"},"adjustment_type":{"$ref":"#/components/schemas/AdjustmentType"},"adjusted_quantity":{"type":"string","title":"Adjusted Quantity"},"reason":{"type":"string","title":"Reason"},"adjusted_by":{"type":"integer","title":"Adjusted By"},"adjustment_id":{"type":"integer","title":"Adjustment Id"},"adjusted_at":{"type":"string","format":"date-time","title":"Adjusted At"}},"type":"object","required":["lot_id","adjustment_type","adjusted_quantity","reason","adjusted_by","adjustment_id","adjusted_at"],"title":"AdjustmentResponse","description":"API response model for adjustments."},"AdjustmentType":{"type":"string","enum":["physical_count","damage","loss","found","other"],"title":"AdjustmentType","description":"Allowed adjustment reason codes."},"AllocatableLotItem":{"properties":{"lot_id":{"type":"integer","title":"Lot Id"},"lot_number":{"type":"string","title":"Lot Number"},"product_id":{"type":"integer","title":"Product Id"},"product_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Code"},"warehouse_id":{"type":"integer","title":"Warehouse Id"},"free_qty":{"type":"number","title":"Free Qty"},"current_quantity":{"type":"number","title":"Current Quantity"},"allocated_qty":{"type":"number","title":"Allocated Qty"},"expiry_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expiry Date"},"is_locked":{"type":"boolean","title":"Is Locked","default":false},"last_updated":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Updated"}},"type":"object","required":["lot_id","lot_number","product_id","warehouse_id","free_qty","current_quantity","allocated_qty"],"title":"AllocatableLotItem","description":"診断用引当可能ロット項目."},"AllocatableLotsResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/AllocatableLotItem"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total","default":0}},"type":"object","title":"AllocatableLotsResponse","description":"診断用引当可能ロット一覧レスポンス."},"AllocationCommitRequest":{"properties":{"order_id":{"type":"integer","title":"Order Id"}},"type":"object","required":["order_id"],"title":"AllocationCommitRequest","description":"引当確定リクエスト（v2.2.1）."},"AllocationCommitResponse":{"properties":{"order_id":{"type":"integer","title":"Order Id"},"created_allocation_ids":{"items":{"type":"integer"},"type":"array","title":"Created Allocation Ids"},"preview":{"anyOf":[{"$ref":"#/components/schemas/FefoPreviewResponse"},{"type":"null"}]},"status":{"type":"string","title":"Status","default":"committed"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["order_id"],"title":"AllocationCommitResponse","description":"引当確定レスポンス（v2.2.1）."},"AllocationSuggestionGenerateRequest":{"properties":{"forecast_line_id":{"type":"integer","title":"Forecast Line Id","description":"フォーキャスト明細ID"},"logic":{"type":"string","title":"Logic","description":"引当ロジック（FEFO/FIFO/MANUAL）","default":"FEFO"},"max_suggestions":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Max Suggestions","description":"最大推奨件数","default":5}},"type":"object","required":["forecast_line_id"],"title":"AllocationSuggestionGenerateRequest","description":"引当推奨生成リクエスト."},"AllocationSuggestionGenerateResponse":{"properties":{"forecast_line_id":{"type":"integer","title":"Forecast Line Id"},"suggestions_created":{"type":"integer","title":"Suggestions Created"},"suggestions":{"items":{"$ref":"#/components/schemas/AllocationSuggestionResponse"},"type":"array","title":"Suggestions"}},"type":"object","required":["forecast_line_id","suggestions_created","suggestions"],"title":"AllocationSuggestionGenerateResponse","description":"引当推奨生成レスポンス."},"AllocationSuggestionListResponse":{"properties":{"suggestions":{"items":{"$ref":"#/components/schemas/AllocationSuggestionResponse"},"type":"array","title":"Suggestions"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["suggestions","total"],"title":"AllocationSuggestionListResponse","description":"引当推奨一覧レスポンス."},"AllocationSuggestionManualRequest":{"properties":{"order_line_id":{"type":"integer","title":"Order Line Id"},"lot_id":{"type":"integer","title":"Lot Id"},"quantity":{"type":"number","title":"Quantity"}},"type":"object","required":["order_line_id","lot_id","quantity"],"title":"AllocationSuggestionManualRequest","description":"手動仮引当リクエスト（v2.2.1）."},"AllocationSuggestionManualResponse":{"properties":{"order_line_id":{"type":"integer","title":"Order Line Id"},"lot_id":{"type":"integer","title":"Lot Id"},"lot_number":{"type":"string","title":"Lot Number"},"suggested_quantity":{"type":"number","title":"Suggested Quantity"},"available_quantity":{"type":"number","title":"Available Quantity"},"product_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Product Id"},"product_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Code"},"warehouse_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Warehouse Id"},"expiry_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expiry Date"},"status":{"type":"string","title":"Status","default":"preview"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["order_line_id","lot_id","lot_number","suggested_quantity","available_quantity"],"title":"AllocationSuggestionManualResponse","description":"手動仮引当レスポンス（v2.2.1）."},"AllocationSuggestionResponse":{"properties":{"forecast_line_id":{"type":"integer","title":"Forecast Line Id","description":"フォーキャスト明細ID"},"lot_id":{"type":"integer","title":"Lot Id","description":"ロットID"},"suggested_quantity":{"type":"string","title":"Suggested Quantity","description":"推奨数量"},"allocation_logic":{"type":"string","title":"Allocation Logic","description":"引当ロジック（FEFO/FIFO/MANUAL等）"},"suggestion_id":{"type":"integer","title":"Suggestion Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["forecast_line_id","lot_id","suggested_quantity","allocation_logic","suggestion_id","created_at","updated_at"],"title":"AllocationSuggestionResponse","description":"引当推奨レスポンス."},"BatchJobCreate":{"properties":{"job_name":{"type":"string","title":"Job Name","description":"ジョブ名"},"job_type":{"type":"string","title":"Job Type","description":"ジョブ種別（allocation_suggestion/allocation_finalize/inventory_sync/data_import/report_generation）"},"parameters":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Parameters","description":"ジョブパラメータ（JSON）"}},"type":"object","required":["job_name","job_type"],"title":"BatchJobCreate","description":"バッチジョブ作成スキーマ."},"BatchJobExecuteRequest":{"properties":{"parameters":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Parameters","description":"実行時パラメータ（上書き）"}},"type":"object","title":"BatchJobExecuteRequest","description":"バッチジョブ実行リクエスト."},"BatchJobExecuteResponse":{"properties":{"job_id":{"type":"integer","title":"Job Id"},"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"}},"type":"object","required":["job_id","status","message"],"title":"BatchJobExecuteResponse","description":"バッチジョブ実行レスポンス."},"BatchJobListResponse":{"properties":{"jobs":{"items":{"$ref":"#/components/schemas/BatchJobResponse"},"type":"array","title":"Jobs"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"}},"type":"object","required":["jobs","total","page","page_size"],"title":"BatchJobListResponse","description":"バッチジョブ一覧レスポンス."},"BatchJobResponse":{"properties":{"job_name":{"type":"string","title":"Job Name","description":"ジョブ名"},"job_type":{"type":"string","title":"Job Type","description":"ジョブ種別（allocation_suggestion/allocation_finalize/inventory_sync/data_import/report_generation）"},"parameters":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Parameters","description":"ジョブパラメータ（JSON）"},"job_id":{"type":"integer","title":"Job Id"},"status":{"type":"string","title":"Status","description":"ステータス（pending/running/completed/failed）"},"result_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Result Message","description":"実行結果メッセージ"},"started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Started At","description":"開始日時"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At","description":"完了日時"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"作成日時"}},"type":"object","required":["job_name","job_type","job_id","status","created_at"],"title":"BatchJobResponse","description":"バッチジョブレスポンス."},"BusinessRuleCreate":{"properties":{"rule_code":{"type":"string","title":"Rule Code","description":"ルールコード（一意）"},"rule_name":{"type":"string","title":"Rule Name","description":"ルール名"},"rule_type":{"type":"string","title":"Rule Type","description":"ルール種別（allocation/expiry_warning/kanban/other）"},"rule_parameters":{"type":"object","title":"Rule Parameters","description":"ルールパラメータ（JSON）"},"is_active":{"type":"boolean","title":"Is Active","description":"有効フラグ","default":true}},"type":"object","required":["rule_code","rule_name","rule_type","rule_parameters"],"title":"BusinessRuleCreate","description":"業務ルール作成スキーマ."},"BusinessRuleListResponse":{"properties":{"rules":{"items":{"$ref":"#/components/schemas/BusinessRuleResponse"},"type":"array","title":"Rules"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["rules","total"],"title":"BusinessRuleListResponse","description":"業務ルール一覧レスポンス."},"BusinessRuleResponse":{"properties":{"rule_code":{"type":"string","title":"Rule Code","description":"ルールコード（一意）"},"rule_name":{"type":"string","title":"Rule Name","description":"ルール名"},"rule_type":{"type":"string","title":"Rule Type","description":"ルール種別（allocation/expiry_warning/kanban/other）"},"rule_parameters":{"type":"object","title":"Rule Parameters","description":"ルールパラメータ（JSON）"},"is_active":{"type":"boolean","title":"Is Active","description":"有効フラグ","default":true},"rule_id":{"type":"integer","title":"Rule Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["rule_code","rule_name","rule_type","rule_parameters","rule_id","created_at","updated_at"],"title":"BusinessRuleResponse","description":"業務ルールレスポンス."},"BusinessRuleUpdate":{"properties":{"rule_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rule Name","description":"ルール名"},"rule_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rule Type","description":"ルール種別"},"rule_parameters":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Rule Parameters","description":"ルールパラメータ（JSON）"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"有効フラグ"}},"type":"object","title":"BusinessRuleUpdate","description":"業務ルール更新スキーマ."},"CandidateLotItem":{"properties":{"lot_id":{"type":"integer","title":"Lot Id"},"lot_number":{"type":"string","title":"Lot Number"},"free_qty":{"type":"number","title":"Free Qty"},"current_quantity":{"type":"number","title":"Current Quantity"},"allocated_qty":{"type":"number","title":"Allocated Qty"},"product_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Product Id"},"product_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Code"},"warehouse_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Warehouse Id"},"expiry_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expiry Date"},"last_updated":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Updated"}},"type":"object","required":["lot_id","lot_number","free_qty","current_quantity","allocated_qty"],"title":"CandidateLotItem","description":"候補ロット項目（product_id基準）."},"CandidateLotsResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/CandidateLotItem"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total","default":0}},"type":"object","title":"CandidateLotsResponse","description":"候補ロット一覧レスポンス."},"CapCheckResult":{"properties":{"lot_split":{"type":"string","title":"Lot Split","description":"ロット分割チェック（OK/NG）"},"destinations":{"type":"string","title":"Destinations","description":"納品先数チェック（OK/NG）"},"order_lines":{"type":"string","title":"Order Lines","description":"受注明細行チェック（OK/NG）"}},"type":"object","required":["lot_split","destinations","order_lines"],"title":"CapCheckResult","description":"上限チェック結果."},"CustomerCreate":{"properties":{"customer_code":{"type":"string","title":"Customer Code"},"customer_name":{"type":"string","title":"Customer Name"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"}},"type":"object","required":["customer_code","customer_name"],"title":"CustomerCreate"},"CustomerItemCreate":{"properties":{"customer_id":{"type":"integer","title":"Customer Id","description":"得意先ID"},"external_product_code":{"type":"string","maxLength":100,"title":"External Product Code","description":"得意先品番"},"product_id":{"type":"integer","title":"Product Id","description":"製品ID"},"supplier_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Supplier Id","description":"仕入先ID"},"base_unit":{"type":"string","maxLength":20,"title":"Base Unit","description":"基本単位"},"pack_unit":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Pack Unit","description":"梱包単位"},"pack_quantity":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Pack Quantity","description":"梱包数量"},"special_instructions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Special Instructions","description":"特記事項"}},"type":"object","required":["customer_id","external_product_code","product_id","base_unit"],"title":"CustomerItemCreate","description":"Schema for creating a customer item mapping."},"CustomerItemResponse":{"properties":{"customer_id":{"type":"integer","title":"Customer Id","description":"得意先ID"},"external_product_code":{"type":"string","maxLength":100,"title":"External Product Code","description":"得意先品番"},"product_id":{"type":"integer","title":"Product Id","description":"製品ID"},"supplier_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Supplier Id","description":"仕入先ID"},"base_unit":{"type":"string","maxLength":20,"title":"Base Unit","description":"基本単位"},"pack_unit":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Pack Unit","description":"梱包単位"},"pack_quantity":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Pack Quantity","description":"梱包数量"},"special_instructions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Special Instructions","description":"特記事項"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["customer_id","external_product_code","product_id","base_unit","created_at","updated_at"],"title":"CustomerItemResponse","description":"Schema for customer item response."},"CustomerItemUpdate":{"properties":{"product_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Product Id","description":"製品ID"},"supplier_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Supplier Id","description":"仕入先ID"},"base_unit":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Base Unit","description":"基本単位"},"pack_unit":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Pack Unit","description":"梱包単位"},"pack_quantity":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Pack Quantity","description":"梱包数量"},"special_instructions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Special Instructions","description":"特記事項"}},"type":"object","title":"CustomerItemUpdate","description":"Schema for updating a customer item mapping."},"CustomerResponse":{"properties":{"customer_code":{"type":"string","title":"Customer Code"},"customer_name":{"type":"string","title":"Customer Name"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"}},"type":"object","required":["customer_code","customer_name"],"title":"CustomerResponse"},"CustomerUpdate":{"properties":{"customer_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Name"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"}},"type":"object","title":"CustomerUpdate"},"DashboardStatsResponse":{"properties":{"total_stock":{"type":"number","title":"Total Stock"},"total_orders":{"type":"integer","title":"Total Orders"},"unallocated_orders":{"type":"integer","title":"Unallocated Orders"}},"type":"object","required":["total_stock","total_orders","unallocated_orders"],"title":"DashboardStatsResponse","description":"ダッシュボード統計レスポンス."},"DragAssignRequest":{"properties":{"order_line_id":{"type":"integer","title":"Order Line Id"},"lot_id":{"type":"integer","title":"Lot Id"},"allocate_qty":{"type":"number","title":"Allocate Qty"}},"type":"object","required":["order_line_id","lot_id","allocate_qty"],"title":"DragAssignRequest"},"ExpectedLotCreate":{"properties":{"inbound_plan_line_id":{"type":"integer","title":"Inbound Plan Line Id"},"expected_lot_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expected Lot Number"},"expected_quantity":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Expected Quantity"},"expected_expiry_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expected Expiry Date"}},"type":"object","required":["inbound_plan_line_id","expected_quantity"],"title":"ExpectedLotCreate","description":"Payload for creating expected lots."},"ExpectedLotResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"inbound_plan_line_id":{"type":"integer","title":"Inbound Plan Line Id"},"expected_lot_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expected Lot Number"},"expected_quantity":{"type":"string","title":"Expected Quantity"},"expected_expiry_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expected Expiry Date"},"expected_lot_id":{"type":"integer","title":"Expected Lot Id"}},"type":"object","required":["created_at","inbound_plan_line_id","expected_quantity","expected_lot_id"],"title":"ExpectedLotResponse","description":"Response model for expected lots."},"FefoCommitResponse":{"properties":{"order_id":{"type":"integer","title":"Order Id"},"created_allocation_ids":{"items":{"type":"integer"},"type":"array","title":"Created Allocation Ids"},"preview":{"$ref":"#/components/schemas/FefoPreviewResponse"}},"type":"object","required":["order_id","preview"],"title":"FefoCommitResponse"},"FefoLineAllocation":{"properties":{"order_line_id":{"type":"integer","title":"Order Line Id"},"product_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Product Id"},"product_code":{"type":"string","title":"Product Code"},"warehouse_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Warehouse Id"},"required_qty":{"type":"number","title":"Required Qty"},"already_allocated_qty":{"type":"number","title":"Already Allocated Qty"},"allocations":{"items":{"$ref":"#/components/schemas/FefoLotAllocation"},"type":"array","title":"Allocations"},"next_div":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Next Div"},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings"}},"type":"object","required":["order_line_id","product_code","required_qty","already_allocated_qty"],"title":"FefoLineAllocation"},"FefoLotAllocation":{"properties":{"lot_id":{"type":"integer","title":"Lot Id"},"lot_number":{"type":"string","title":"Lot Number"},"allocate_qty":{"type":"number","title":"Allocate Qty"},"expiry_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expiry Date"},"receipt_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Receipt Date"}},"type":"object","required":["lot_id","lot_number","allocate_qty"],"title":"FefoLotAllocation"},"FefoPreviewRequest":{"properties":{"order_id":{"type":"integer","title":"Order Id"}},"type":"object","required":["order_id"],"title":"FefoPreviewRequest"},"FefoPreviewResponse":{"properties":{"order_id":{"type":"integer","title":"Order Id"},"lines":{"items":{"$ref":"#/components/schemas/FefoLineAllocation"},"type":"array","title":"Lines"},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings"}},"type":"object","required":["order_id"],"title":"FefoPreviewResponse"},"ForecastHeaderCreate":{"properties":{"customer_id":{"type":"integer","title":"Customer Id"},"delivery_place_id":{"type":"integer","title":"Delivery Place Id"},"forecast_number":{"type":"string","title":"Forecast Number"},"forecast_start_date":{"type":"string","format":"date","title":"Forecast Start Date"},"forecast_end_date":{"type":"string","format":"date","title":"Forecast End Date"},"status":{"$ref":"#/components/schemas/ForecastStatus","default":"active"},"lines":{"anyOf":[{"items":{"$ref":"#/components/schemas/ForecastLineCreate"},"type":"array"},{"type":"null"}],"title":"Lines","description":"Optional collection of forecast lines created together with the header."}},"type":"object","required":["customer_id","delivery_place_id","forecast_number","forecast_start_date","forecast_end_date"],"title":"ForecastHeaderCreate","description":"Payload for creating a new forecast header."},"ForecastHeaderDetailResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"customer_id":{"type":"integer","title":"Customer Id"},"delivery_place_id":{"type":"integer","title":"Delivery Place Id"},"forecast_number":{"type":"string","title":"Forecast Number"},"forecast_start_date":{"type":"string","format":"date","title":"Forecast Start Date"},"forecast_end_date":{"type":"string","format":"date","title":"Forecast End Date"},"status":{"$ref":"#/components/schemas/ForecastStatus","default":"active"},"forecast_id":{"type":"integer","title":"Forecast Id"},"lines":{"items":{"$ref":"#/components/schemas/ForecastLineResponse"},"type":"array","title":"Lines"}},"type":"object","required":["created_at","customer_id","delivery_place_id","forecast_number","forecast_start_date","forecast_end_date","forecast_id"],"title":"ForecastHeaderDetailResponse","description":"Header representation bundled with its lines."},"ForecastHeaderResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"customer_id":{"type":"integer","title":"Customer Id"},"delivery_place_id":{"type":"integer","title":"Delivery Place Id"},"forecast_number":{"type":"string","title":"Forecast Number"},"forecast_start_date":{"type":"string","format":"date","title":"Forecast Start Date"},"forecast_end_date":{"type":"string","format":"date","title":"Forecast End Date"},"status":{"$ref":"#/components/schemas/ForecastStatus","default":"active"},"forecast_id":{"type":"integer","title":"Forecast Id"}},"type":"object","required":["created_at","customer_id","delivery_place_id","forecast_number","forecast_start_date","forecast_end_date","forecast_id"],"title":"ForecastHeaderResponse","description":"API response model for forecast headers."},"ForecastHeaderUpdate":{"properties":{"delivery_place_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Delivery Place Id"},"forecast_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Forecast Number"},"forecast_start_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Forecast Start Date"},"forecast_end_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Forecast End Date"},"status":{"anyOf":[{"$ref":"#/components/schemas/ForecastStatus"},{"type":"null"}]}},"type":"object","title":"ForecastHeaderUpdate","description":"Mutable fields on a forecast header."},"ForecastLineCreate":{"properties":{"product_id":{"type":"integer","title":"Product Id"},"delivery_date":{"type":"string","format":"date","title":"Delivery Date"},"forecast_quantity":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Forecast Quantity"},"unit":{"type":"string","title":"Unit"}},"type":"object","required":["product_id","delivery_date","forecast_quantity","unit"],"title":"ForecastLineCreate","description":"Payload for adding a forecast line."},"ForecastLineResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"product_id":{"type":"integer","title":"Product Id"},"delivery_date":{"type":"string","format":"date","title":"Delivery Date"},"quantity":{"type":"string","title":"Quantity"},"unit":{"type":"string","title":"Unit"},"forecast_line_id":{"type":"integer","title":"Forecast Line Id"},"forecast_id":{"type":"integer","title":"Forecast Id"}},"type":"object","required":["created_at","product_id","delivery_date","quantity","unit","forecast_line_id","forecast_id"],"title":"ForecastLineResponse","description":"API response model for forecast lines."},"ForecastLineUpdate":{"properties":{"delivery_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Delivery Date"},"forecast_quantity":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Forecast Quantity"},"unit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Unit"}},"type":"object","title":"ForecastLineUpdate","description":"Mutable fields for forecast lines."},"ForecastStatus":{"type":"string","enum":["active","completed","cancelled"],"title":"ForecastStatus","description":"Lifecycle states for :class:`ForecastHeader`."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"InboundPlanCreate":{"properties":{"plan_number":{"type":"string","title":"Plan Number"},"supplier_id":{"type":"integer","title":"Supplier Id"},"planned_arrival_date":{"type":"string","format":"date","title":"Planned Arrival Date"},"status":{"$ref":"#/components/schemas/InboundPlanStatus","default":"planned"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"lines":{"anyOf":[{"items":{"$ref":"#/components/schemas/InboundPlanLineCreate"},"type":"array"},{"type":"null"}],"title":"Lines"}},"type":"object","required":["plan_number","supplier_id","planned_arrival_date"],"title":"InboundPlanCreate","description":"Payload for registering inbound plans."},"InboundPlanDetailResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"plan_number":{"type":"string","title":"Plan Number"},"supplier_id":{"type":"integer","title":"Supplier Id"},"planned_arrival_date":{"type":"string","format":"date","title":"Planned Arrival Date"},"status":{"$ref":"#/components/schemas/InboundPlanStatus","default":"planned"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"inbound_plan_id":{"type":"integer","title":"Inbound Plan Id"},"lines":{"items":{"$ref":"#/components/schemas/InboundPlanLineResponse"},"type":"array","title":"Lines"}},"type":"object","required":["created_at","plan_number","supplier_id","planned_arrival_date","inbound_plan_id"],"title":"InboundPlanDetailResponse","description":"Inbound plan representation bundled with lines and expected lots."},"InboundPlanLineCreate":{"properties":{"product_id":{"type":"integer","title":"Product Id"},"planned_quantity":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Planned Quantity"},"unit":{"type":"string","title":"Unit"},"expected_lots":{"anyOf":[{"items":{"$ref":"#/components/schemas/ExpectedLotCreate"},"type":"array"},{"type":"null"}],"title":"Expected Lots"}},"type":"object","required":["product_id","planned_quantity","unit"],"title":"InboundPlanLineCreate","description":"Payload for creating inbound plan lines."},"InboundPlanLineResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"product_id":{"type":"integer","title":"Product Id"},"planned_quantity":{"type":"string","title":"Planned Quantity"},"unit":{"type":"string","title":"Unit"},"inbound_plan_line_id":{"type":"integer","title":"Inbound Plan Line Id"},"inbound_plan_id":{"type":"integer","title":"Inbound Plan Id"},"expected_lots":{"items":{"$ref":"#/components/schemas/ExpectedLotResponse"},"type":"array","title":"Expected Lots"}},"type":"object","required":["created_at","product_id","planned_quantity","unit","inbound_plan_line_id","inbound_plan_id"],"title":"InboundPlanLineResponse","description":"Response model for inbound plan lines."},"InboundPlanListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/InboundPlanResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"InboundPlanListResponse","description":"Response wrapper for inbound plan listings."},"InboundPlanReceiveRequest":{"properties":{"received_at":{"type":"string","format":"date-time","title":"Received At"},"lot_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Lot Ids"}},"type":"object","required":["received_at"],"title":"InboundPlanReceiveRequest","description":"Payload for confirming inbound receipt."},"InboundPlanReceiveResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"created_lot_ids":{"items":{"type":"integer"},"type":"array","title":"Created Lot Ids"}},"type":"object","required":["success"],"title":"InboundPlanReceiveResponse","description":"Response model returned after processing inbound receipt."},"InboundPlanResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"plan_number":{"type":"string","title":"Plan Number"},"supplier_id":{"type":"integer","title":"Supplier Id"},"planned_arrival_date":{"type":"string","format":"date","title":"Planned Arrival Date"},"status":{"$ref":"#/components/schemas/InboundPlanStatus","default":"planned"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"inbound_plan_id":{"type":"integer","title":"Inbound Plan Id"}},"type":"object","required":["created_at","plan_number","supplier_id","planned_arrival_date","inbound_plan_id"],"title":"InboundPlanResponse","description":"Response model for inbound plans."},"InboundPlanStatus":{"type":"string","enum":["planned","partially_received","received","cancelled"],"title":"InboundPlanStatus","description":"Valid lifecycle states for inbound plans."},"InboundPlanUpdate":{"properties":{"planned_arrival_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Planned Arrival Date"},"status":{"anyOf":[{"$ref":"#/components/schemas/InboundPlanStatus"},{"type":"null"}]},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","title":"InboundPlanUpdate","description":"Mutable fields for inbound plans."},"InventoryItemResponse":{"properties":{"product_id":{"type":"integer","title":"Product Id"},"warehouse_id":{"type":"integer","title":"Warehouse Id"},"total_quantity":{"type":"string","title":"Total Quantity"},"allocated_quantity":{"type":"string","title":"Allocated Quantity"},"available_quantity":{"type":"string","title":"Available Quantity"},"inventory_item_id":{"type":"integer","title":"Inventory Item Id"},"last_updated":{"type":"string","format":"date-time","title":"Last Updated"}},"type":"object","required":["product_id","warehouse_id","total_quantity","allocated_quantity","available_quantity","inventory_item_id","last_updated"],"title":"InventoryItemResponse","description":"API response model for inventory summary rows."},"LegacyForecastActivateRequest":{"properties":{"version_no":{"type":"integer","title":"Version No"},"deactivate_others":{"type":"boolean","title":"Deactivate Others","default":true}},"type":"object","required":["version_no"],"title":"LegacyForecastActivateRequest","description":"Deprecated activation request for legacy forecasts."},"LegacyForecastActivateResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"activated_version":{"type":"integer","title":"Activated Version"},"deactivated_versions":{"items":{"type":"integer"},"type":"array","title":"Deactivated Versions","default":[]}},"type":"object","required":["success","message","activated_version"],"title":"LegacyForecastActivateResponse","description":"Deprecated activation response for legacy forecasts."},"LegacyForecastBulkImportRequest":{"properties":{"version_no":{"type":"integer","title":"Version No"},"version_issued_at":{"type":"string","format":"date-time","title":"Version Issued At"},"source_system":{"type":"string","title":"Source System","default":"external"},"deactivate_old_version":{"type":"boolean","title":"Deactivate Old Version","default":true},"forecasts":{"items":{"$ref":"#/components/schemas/LegacyForecastCreate"},"type":"array","title":"Forecasts"}},"type":"object","required":["version_no","version_issued_at","forecasts"],"title":"LegacyForecastBulkImportRequest","description":"Deprecated bulk import request for legacy forecasts."},"LegacyForecastBulkImportResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"version_no":{"type":"integer","title":"Version No"},"imported_count":{"type":"integer","title":"Imported Count"},"skipped_count":{"type":"integer","title":"Skipped Count"},"error_count":{"type":"integer","title":"Error Count"},"error_details":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Details"}},"type":"object","required":["success","message","version_no","imported_count","skipped_count","error_count"],"title":"LegacyForecastBulkImportResponse","description":"Deprecated bulk import response for legacy forecasts."},"LegacyForecastCreate":{"properties":{"product_id":{"type":"string","title":"Product Id"},"customer_id":{"type":"string","title":"Customer Id"},"granularity":{"type":"string","title":"Granularity"},"qty_forecast":{"type":"integer","title":"Qty Forecast"},"version_no":{"type":"integer","title":"Version No","default":1},"source_system":{"type":"string","title":"Source System","default":"external"},"is_active":{"type":"boolean","title":"Is Active","default":true},"date_day":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date Day"},"date_dekad_start":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date Dekad Start"},"year_month":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Year Month"},"version_issued_at":{"type":"string","format":"date-time","title":"Version Issued At"}},"type":"object","required":["product_id","customer_id","granularity","qty_forecast","version_issued_at"],"title":"LegacyForecastCreate","description":"Deprecated create payload for legacy forecasts."},"LegacyForecastItemOut":{"properties":{"id":{"type":"integer","title":"Id"},"product_code":{"type":"string","title":"Product Code"},"product_name":{"type":"string","title":"Product Name"},"customer_code":{"type":"string","title":"Customer Code"},"supplier_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplier Code"},"granularity":{"type":"string","title":"Granularity"},"version_no":{"type":"integer","title":"Version No"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"daily_data":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Daily Data"},"dekad_data":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Dekad Data"},"monthly_data":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Monthly Data"},"dekad_summary":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Dekad Summary"},"customer_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Name","default":"得意先A (ダミー)"},"supplier_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplier Name","default":"サプライヤーB (ダミー)"},"unit":{"type":"string","title":"Unit","default":"EA"},"version_history":{"items":{"type":"object"},"type":"array","title":"Version History","default":[]}},"type":"object","required":["id","product_code","product_name","customer_code","granularity","version_no","updated_at"],"title":"LegacyForecastItemOut","description":"Deprecated list item schema used by legacy UI mocks."},"LegacyForecastListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/LegacyForecastItemOut"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"LegacyForecastListResponse","description":"Deprecated list response for legacy forecasts."},"LegacyForecastMatchRequest":{"properties":{"order_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Order Id"},"order_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Order Ids"},"date_from":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date From"},"date_to":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date To"},"force_rematch":{"type":"boolean","title":"Force Rematch","default":false}},"type":"object","title":"LegacyForecastMatchRequest","description":"Deprecated match request for legacy forecasts."},"LegacyForecastMatchResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"total_lines":{"type":"integer","title":"Total Lines"},"matched_lines":{"type":"integer","title":"Matched Lines"},"unmatched_lines":{"type":"integer","title":"Unmatched Lines"},"results":{"items":{"$ref":"#/components/schemas/LegacyForecastMatchResult"},"type":"array","title":"Results","default":[]}},"type":"object","required":["success","message","total_lines","matched_lines","unmatched_lines"],"title":"LegacyForecastMatchResponse","description":"Deprecated match response for legacy forecasts."},"LegacyForecastMatchResult":{"properties":{"order_line_id":{"type":"integer","title":"Order Line Id"},"order_no":{"type":"string","title":"Order No"},"line_no":{"type":"integer","title":"Line No"},"product_code":{"type":"string","title":"Product Code"},"matched":{"type":"boolean","title":"Matched"},"forecast_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Forecast Id"},"forecast_granularity":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Forecast Granularity"},"forecast_match_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Forecast Match Status"},"forecast_qty":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Forecast Qty"}},"type":"object","required":["order_line_id","order_no","line_no","product_code","matched"],"title":"LegacyForecastMatchResult","description":"Deprecated match result for legacy forecasts."},"LegacyForecastResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"product_id":{"type":"string","title":"Product Id"},"customer_id":{"type":"string","title":"Customer Id"},"granularity":{"type":"string","title":"Granularity"},"qty_forecast":{"type":"integer","title":"Qty Forecast"},"version_no":{"type":"integer","title":"Version No","default":1},"source_system":{"type":"string","title":"Source System","default":"external"},"is_active":{"type":"boolean","title":"Is Active","default":true},"date_day":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date Day"},"date_dekad_start":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date Dekad Start"},"year_month":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Year Month"},"id":{"type":"integer","title":"Id"},"forecast_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Forecast Id"},"supplier_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplier Id"},"version_issued_at":{"type":"string","format":"date-time","title":"Version Issued At"}},"type":"object","required":["created_at","product_id","customer_id","granularity","qty_forecast","id","version_issued_at"],"title":"LegacyForecastResponse","description":"Deprecated response schema for legacy forecasts."},"LegacyForecastUpdate":{"properties":{"qty_forecast":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Qty Forecast"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"LegacyForecastUpdate","description":"Deprecated update payload for legacy forecasts."},"LegacyForecastVersionInfo":{"properties":{"version_no":{"type":"integer","title":"Version No"},"version_issued_at":{"type":"string","format":"date-time","title":"Version Issued At"},"is_active":{"type":"boolean","title":"Is Active"},"forecast_count":{"type":"integer","title":"Forecast Count"},"source_system":{"type":"string","title":"Source System"}},"type":"object","required":["version_no","version_issued_at","is_active","forecast_count","source_system"],"title":"LegacyForecastVersionInfo","description":"Deprecated version information schema."},"LegacyForecastVersionListResponse":{"properties":{"versions":{"items":{"$ref":"#/components/schemas/LegacyForecastVersionInfo"},"type":"array","title":"Versions"}},"type":"object","required":["versions"],"title":"LegacyForecastVersionListResponse","description":"Deprecated version listing schema."},"LotCreate":{"properties":{"lot_number":{"type":"string","title":"Lot Number"},"product_id":{"type":"integer","title":"Product Id"},"warehouse_id":{"type":"integer","title":"Warehouse Id"},"supplier_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Supplier Id"},"expected_lot_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expected Lot Id"},"received_date":{"type":"string","format":"date","title":"Received Date"},"expiry_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expiry Date"},"current_quantity":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Current Quantity","default":"0"},"allocated_quantity":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Allocated Quantity","default":"0"},"unit":{"type":"string","title":"Unit"},"status":{"$ref":"#/components/schemas/LotStatus","default":"active"}},"type":"object","required":["lot_number","product_id","warehouse_id","received_date","unit"],"title":"LotCreate","description":"Payload for creating lots."},"LotResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"lot_number":{"type":"string","title":"Lot Number"},"product_id":{"type":"integer","title":"Product Id"},"warehouse_id":{"type":"integer","title":"Warehouse Id"},"supplier_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Supplier Id"},"expected_lot_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expected Lot Id"},"received_date":{"type":"string","format":"date","title":"Received Date"},"expiry_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expiry Date"},"current_quantity":{"type":"string","title":"Current Quantity","default":"0"},"allocated_quantity":{"type":"string","title":"Allocated Quantity","default":"0"},"unit":{"type":"string","title":"Unit"},"status":{"$ref":"#/components/schemas/LotStatus","default":"active"},"lot_id":{"type":"integer","title":"Lot Id"}},"type":"object","required":["created_at","lot_number","product_id","warehouse_id","received_date","unit","lot_id"],"title":"LotResponse","description":"API response model for lots."},"LotStatus":{"type":"string","enum":["active","depleted","expired","quarantine"],"title":"LotStatus","description":"Valid lot lifecycle statuses."},"LotUpdate":{"properties":{"supplier_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Supplier Id"},"expected_lot_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expected Lot Id"},"received_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Received Date"},"expiry_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expiry Date"},"current_quantity":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Current Quantity"},"allocated_quantity":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Allocated Quantity"},"unit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Unit"},"status":{"anyOf":[{"$ref":"#/components/schemas/LotStatus"},{"type":"null"}]}},"type":"object","title":"LotUpdate","description":"Mutable fields for lot updates."},"MasterBulkLoadRequest":{"properties":{"warehouses":{"items":{"$ref":"#/components/schemas/WarehouseCreate"},"type":"array","title":"Warehouses"},"suppliers":{"items":{"$ref":"#/components/schemas/SupplierCreate"},"type":"array","title":"Suppliers"},"customers":{"items":{"$ref":"#/components/schemas/CustomerCreate"},"type":"array","title":"Customers"},"products":{"items":{"$ref":"#/components/schemas/ProductCreate"},"type":"array","title":"Products"}},"type":"object","title":"MasterBulkLoadRequest","description":"Bulk load payload for master data."},"MasterBulkLoadResponse":{"properties":{"created":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"type":"object","title":"Created"},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings"}},"type":"object","title":"MasterBulkLoadResponse","description":"Bulk load result summary."},"MasterChangeLogListResponse":{"properties":{"logs":{"items":{"$ref":"#/components/schemas/MasterChangeLogResponse"},"type":"array","title":"Logs"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"}},"type":"object","required":["logs","total","page","page_size"],"title":"MasterChangeLogListResponse","description":"マスタ変更履歴一覧レスポンス."},"MasterChangeLogResponse":{"properties":{"change_log_id":{"type":"integer","title":"Change Log Id"},"table_name":{"type":"string","title":"Table Name","description":"テーブル名"},"record_id":{"type":"integer","title":"Record Id","description":"レコードID"},"change_type":{"type":"string","title":"Change Type","description":"変更種別（insert/update/delete）"},"old_values":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Old Values","description":"変更前の値（JSON）"},"new_values":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"New Values","description":"変更後の値（JSON）"},"changed_by":{"type":"integer","title":"Changed By","description":"変更者（ユーザーID）"},"changed_at":{"type":"string","format":"date-time","title":"Changed At","description":"変更日時"}},"type":"object","required":["change_log_id","table_name","record_id","change_type","changed_by","changed_at"],"title":"MasterChangeLogResponse","description":"マスタ変更履歴レスポンス."},"OcrOrderRecord":{"properties":{"order_no":{"type":"string","title":"Order No"},"customer_code":{"type":"string","title":"Customer Code"},"order_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order Date"},"lines":{"items":{"$ref":"#/components/schemas/OrderLineCreate"},"type":"array","title":"Lines"}},"type":"object","required":["order_no","customer_code","lines"],"title":"OcrOrderRecord","description":"OCR受注レコード."},"OcrSubmissionRequest":{"properties":{"source":{"type":"string","title":"Source","default":"PAD"},"schema_version":{"type":"string","title":"Schema Version","default":"1.0.0"},"file_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Name"},"operator":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Operator"},"records":{"items":{"$ref":"#/components/schemas/OcrOrderRecord"},"type":"array","title":"Records"}},"type":"object","required":["records"],"title":"OcrSubmissionRequest","description":"OCR取込リクエスト."},"OcrSubmissionResponse":{"properties":{"status":{"type":"string","title":"Status"},"submission_id":{"type":"string","title":"Submission Id"},"created_orders":{"type":"integer","title":"Created Orders"},"created_lines":{"type":"integer","title":"Created Lines"},"total_records":{"type":"integer","title":"Total Records"},"processed_records":{"type":"integer","title":"Processed Records"},"failed_records":{"type":"integer","title":"Failed Records"},"skipped_records":{"type":"integer","title":"Skipped Records"},"error_details":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Details"}},"type":"object","required":["status","submission_id","created_orders","created_lines","total_records","processed_records","failed_records","skipped_records"],"title":"OcrSubmissionResponse","description":"OCR取込レスポンス."},"OperationLogListResponse":{"properties":{"logs":{"items":{"$ref":"#/components/schemas/OperationLogResponse"},"type":"array","title":"Logs"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"}},"type":"object","required":["logs","total","page","page_size"],"title":"OperationLogListResponse","description":"操作ログ一覧レスポンス."},"OperationLogResponse":{"properties":{"log_id":{"type":"integer","title":"Log Id"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"operation_type":{"type":"string","title":"Operation Type","description":"操作種別（create/update/delete/login/logout/export）"},"target_table":{"type":"string","title":"Target Table","description":"対象テーブル名"},"target_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Target Id","description":"対象レコードID"},"changes":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Changes","description":"変更内容（JSON）"},"ip_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip Address","description":"IPアドレス"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"作成日時"}},"type":"object","required":["log_id","operation_type","target_table","created_at"],"title":"OperationLogResponse","description":"操作ログレスポンス."},"OrderCreate":{"properties":{"order_no":{"type":"string","title":"Order No"},"customer_code":{"type":"string","title":"Customer Code"},"order_date":{"type":"string","format":"date","title":"Order Date"},"status":{"type":"string","title":"Status","default":"open"},"customer_order_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Order No"},"customer_order_no_last6":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Order No Last6"},"delivery_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Mode"},"sap_order_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sap Order Id"},"sap_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sap Status"},"sap_sent_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sap Sent At"},"sap_error_msg":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sap Error Msg"},"lines":{"items":{"$ref":"#/components/schemas/OrderLineCreate"},"type":"array","title":"Lines"}},"type":"object","required":["order_no","customer_code","order_date"],"title":"OrderCreate"},"OrderLineCreate":{"properties":{"line_no":{"type":"integer","title":"Line No"},"product_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Code"},"product_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Product Id"},"warehouse_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Warehouse Id"},"quantity":{"type":"number","title":"Quantity"},"unit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Unit"},"due_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Due Date"},"next_div":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Next Div"},"destination_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Destination Id"},"delivery_place_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Delivery Place Id"},"delivery_place_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Place Code"},"external_unit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Unit"}},"type":"object","required":["line_no","quantity"],"title":"OrderLineCreate"},"OrderLineDemandSchema":{"properties":{"product_code":{"type":"string","title":"Product Code"},"warehouse_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Warehouse Id"},"quantity":{"type":"integer","exclusiveMinimum":0.0,"title":"Quantity"}},"type":"object","required":["product_code","quantity"],"title":"OrderLineDemandSchema"},"OrderLineOut":{"properties":{"id":{"type":"integer","title":"Id"},"line_no":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Line No"},"product_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Product Id"},"product_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Code"},"product_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Name"},"warehouse_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Warehouse Id"},"customer_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Customer Id"},"customer_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Code"},"supplier_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Supplier Id"},"supplier_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplier Code"},"quantity":{"type":"number","title":"Quantity"},"unit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Unit"},"due_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Due Date"},"delivery_place_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Delivery Place Id"},"delivery_place_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Place Code"},"delivery_place_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Place Name"},"warehouse_allocations":{"items":{"$ref":"#/components/schemas/WarehouseAllocOut"},"type":"array","title":"Warehouse Allocations"},"related_lots":{"items":{"type":"object"},"type":"array","title":"Related Lots"},"allocated_lots":{"items":{"type":"object"},"type":"array","title":"Allocated Lots"},"allocated_qty":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Allocated Qty"},"next_div":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Next Div"}},"type":"object","required":["id","quantity"],"title":"OrderLineOut"},"OrderResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"order_no":{"type":"string","title":"Order No"},"customer_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Code"},"order_date":{"type":"string","format":"date","title":"Order Date"},"status":{"type":"string","title":"Status","default":"open"},"customer_order_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Order No"},"customer_order_no_last6":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Order No Last6"},"delivery_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Mode"},"sap_order_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sap Order Id"},"sap_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sap Status"},"sap_sent_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sap Sent At"},"sap_error_msg":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sap Error Msg"},"id":{"type":"integer","title":"Id"},"customer_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Customer Id"}},"type":"object","required":["created_at","order_no","order_date","id"],"title":"OrderResponse"},"OrderStatusUpdate":{"properties":{"status":{"type":"string","minLength":1,"title":"Status","description":"新しいステータス（open, allocated, shipped, closed, cancelled）","examples":["allocated","shipped"]}},"type":"object","required":["status"],"title":"OrderStatusUpdate","description":"受注ステータス更新用スキーマ.\n\nNote:\n    constrを使用してstatusが空文字でないことを保証"},"OrderValidationDetails":{"properties":{"warehouse_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Warehouse Id"},"per_lot":{"items":{"$ref":"#/components/schemas/OrderValidationLotAvailability"},"type":"array","title":"Per Lot"},"ship_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Ship Date"}},"type":"object","title":"OrderValidationDetails"},"OrderValidationErrorData":{"properties":{"product_code":{"type":"string","title":"Product Code"},"required":{"type":"integer","title":"Required"},"available":{"type":"integer","title":"Available"},"details":{"$ref":"#/components/schemas/OrderValidationDetails"}},"type":"object","required":["product_code","required","available","details"],"title":"OrderValidationErrorData"},"OrderValidationLotAvailability":{"properties":{"lot_id":{"type":"integer","title":"Lot Id"},"available":{"type":"integer","title":"Available"}},"type":"object","required":["lot_id","available"],"title":"OrderValidationLotAvailability"},"OrderValidationRequest":{"properties":{"lines":{"items":{"$ref":"#/components/schemas/OrderLineDemandSchema"},"type":"array","title":"Lines"},"ship_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Ship Date"}},"type":"object","required":["lines"],"title":"OrderValidationRequest"},"OrderValidationResponse":{"properties":{"ok":{"type":"boolean","title":"Ok"},"message":{"type":"string","title":"Message"},"data":{"anyOf":[{"$ref":"#/components/schemas/OrderValidationErrorData"},{"type":"null"}]}},"type":"object","required":["ok","message"],"title":"OrderValidationResponse"},"OrderWithLinesResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"order_no":{"type":"string","title":"Order No"},"customer_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Code"},"order_date":{"type":"string","format":"date","title":"Order Date"},"status":{"type":"string","title":"Status","default":"open"},"customer_order_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Order No"},"customer_order_no_last6":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Order No Last6"},"delivery_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Mode"},"sap_order_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sap Order Id"},"sap_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sap Status"},"sap_sent_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sap Sent At"},"sap_error_msg":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sap Error Msg"},"id":{"type":"integer","title":"Id"},"customer_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Customer Id"},"lines":{"items":{"$ref":"#/components/schemas/OrderLineOut"},"type":"array","title":"Lines"}},"type":"object","required":["created_at","order_no","order_date","id"],"title":"OrderWithLinesResponse"},"ProductCreate":{"properties":{"product_code":{"type":"string","title":"Product Code"},"product_name":{"type":"string","title":"Product Name"},"customer_part_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Part No"},"maker_item_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Maker Item Code"},"supplier_item_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplier Item Code"},"packaging_qty":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Packaging Qty"},"packaging_unit":{"type":"string","minLength":1,"title":"Packaging Unit"},"internal_unit":{"type":"string","minLength":1,"title":"Internal Unit"},"base_unit":{"type":"string","title":"Base Unit","default":"EA"},"assemble_div":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assemble Div"},"next_div":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Next Div"},"ji_ku_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ji Ku Text"},"kumitsuke_ku_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Kumitsuke Ku Text"},"shelf_life_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Shelf Life Days"},"requires_lot_number":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Requires Lot Number"},"delivery_place_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Delivery Place Id"},"delivery_place_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Place Code"},"delivery_place_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Place Name"},"shipping_warehouse_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Shipping Warehouse Name"}},"type":"object","required":["product_code","product_name","packaging_qty","packaging_unit","internal_unit"],"title":"ProductCreate"},"ProductResponse":{"properties":{"product_code":{"type":"string","title":"Product Code"},"product_name":{"type":"string","title":"Product Name"},"customer_part_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Part No"},"maker_item_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Maker Item Code"},"supplier_item_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplier Item Code"},"packaging_qty":{"type":"string","title":"Packaging Qty"},"packaging_unit":{"type":"string","minLength":1,"title":"Packaging Unit"},"internal_unit":{"type":"string","minLength":1,"title":"Internal Unit"},"base_unit":{"type":"string","title":"Base Unit","default":"EA"},"assemble_div":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assemble Div"},"next_div":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Next Div"},"ji_ku_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ji Ku Text"},"kumitsuke_ku_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Kumitsuke Ku Text"},"shelf_life_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Shelf Life Days"},"requires_lot_number":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Requires Lot Number"},"delivery_place_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Delivery Place Id"},"delivery_place_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Place Code"},"delivery_place_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Place Name"},"shipping_warehouse_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Shipping Warehouse Name"}},"type":"object","required":["product_code","product_name","packaging_qty","packaging_unit","internal_unit"],"title":"ProductResponse"},"ProductUpdate":{"properties":{"product_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Name"},"customer_part_no":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Part No"},"maker_item_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Maker Item Code"},"supplier_item_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplier Item Code"},"packaging_qty":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"},{"type":"null"}],"title":"Packaging Qty"},"packaging_unit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Packaging Unit"},"internal_unit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Internal Unit"},"base_unit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Base Unit"},"assemble_div":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assemble Div"},"next_div":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Next Div"},"ji_ku_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ji Ku Text"},"kumitsuke_ku_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Kumitsuke Ku Text"},"shelf_life_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Shelf Life Days"},"requires_lot_number":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Requires Lot Number"},"delivery_place_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Delivery Place Id"},"delivery_place_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Place Code"},"delivery_place_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Place Name"},"shipping_warehouse_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Shipping Warehouse Name"}},"type":"object","title":"ProductUpdate"},"ResponseBase":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"data":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Data"}},"type":"object","required":["success"],"title":"ResponseBase","description":"API共通レスポンス."},"RoleCreate":{"properties":{"role_code":{"type":"string","maxLength":50,"minLength":1,"title":"Role Code","description":"ロールコード"},"role_name":{"type":"string","maxLength":100,"minLength":1,"title":"Role Name","description":"ロール名"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"説明"}},"type":"object","required":["role_code","role_name"],"title":"RoleCreate","description":"Schema for creating a role."},"RoleResponse":{"properties":{"role_code":{"type":"string","maxLength":50,"minLength":1,"title":"Role Code","description":"ロールコード"},"role_name":{"type":"string","maxLength":100,"minLength":1,"title":"Role Name","description":"ロール名"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"説明"},"role_id":{"type":"integer","title":"Role Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["role_code","role_name","role_id","created_at","updated_at"],"title":"RoleResponse","description":"Schema for role response."},"RoleUpdate":{"properties":{"role_name":{"anyOf":[{"type":"string","maxLength":100,"minLength":1},{"type":"null"}],"title":"Role Name","description":"ロール名"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"説明"}},"type":"object","title":"RoleUpdate","description":"Schema for updating a role."},"SapRegisterOptions":{"properties":{"retry":{"type":"integer","title":"Retry","default":1},"timeout_sec":{"type":"integer","title":"Timeout Sec","default":30}},"type":"object","title":"SapRegisterOptions","description":"SAP送信オプション."},"SapRegisterRequest":{"properties":{"target":{"$ref":"#/components/schemas/SapRegisterTarget"},"options":{"anyOf":[{"$ref":"#/components/schemas/SapRegisterOptions"},{"type":"null"}],"default":{"retry":1,"timeout_sec":30}}},"type":"object","required":["target"],"title":"SapRegisterRequest","description":"SAP送信リクエスト."},"SapRegisterResponse":{"properties":{"status":{"type":"string","title":"Status"},"sap_order_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sap Order Id"},"sap_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sap Status"},"sent":{"type":"integer","title":"Sent"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"}},"type":"object","required":["status","sent"],"title":"SapRegisterResponse","description":"SAP送信レスポンス."},"SapRegisterTarget":{"properties":{"type":{"type":"string","title":"Type"},"value":{"title":"Value"}},"type":"object","required":["type","value"],"title":"SapRegisterTarget","description":"SAP送信対象指定."},"SapSyncLogResponse":{"properties":{"id":{"type":"integer","title":"Id"},"order_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Order Id"},"payload":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payload"},"result":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Result"},"status":{"type":"string","title":"Status"},"executed_at":{"type":"string","format":"date-time","title":"Executed At"}},"type":"object","required":["id","status","executed_at"],"title":"SapSyncLogResponse","description":"SAP連携ログレスポンス."},"SeedRequest":{"properties":{"seed":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Seed","description":"Random seed for reproducibility","default":42},"dry_run":{"type":"boolean","title":"Dry Run","default":false},"customers":{"type":"integer","minimum":0.0,"title":"Customers","default":3},"suppliers":{"type":"integer","minimum":0.0,"title":"Suppliers","default":2},"delivery_places":{"type":"integer","minimum":0.0,"title":"Delivery Places","default":2},"products":{"type":"integer","minimum":0.0,"title":"Products","default":5},"forecasts":{"type":"integer","minimum":0.0,"title":"Forecasts","default":0},"warehouses":{"type":"integer","minimum":0.0,"title":"Warehouses","default":2},"lots":{"type":"integer","minimum":0.0,"title":"Lots","default":10},"orders":{"type":"integer","minimum":0.0,"title":"Orders","default":5}},"type":"object","title":"SeedRequest"},"SeedResponse":{"properties":{"dry_run":{"type":"boolean","title":"Dry Run"},"seed":{"type":"integer","title":"Seed"},"summary":{"$ref":"#/components/schemas/SeedSummary"},"actual_counts":{"anyOf":[{"$ref":"#/components/schemas/ActualCounts"},{"type":"null"}],"description":"投入後の実際のDB件数（dry_run=falseの場合のみ）"}},"type":"object","required":["dry_run","seed","summary"],"title":"SeedResponse"},"SeedSnapshotCreateRequest":{"properties":{"name":{"type":"string","title":"Name","description":"スナップショット名"},"params_json":{"type":"object","title":"Params Json","description":"パラメータJSON"},"profile_json":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Profile Json","description":"プロファイルJSON"},"summary_json":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Summary Json","description":"サマリJSON"}},"type":"object","required":["name","params_json"],"title":"SeedSnapshotCreateRequest","description":"スナップショット作成リクエスト."},"SeedSnapshotCreateResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","name","created_at"],"title":"SeedSnapshotCreateResponse","description":"スナップショット作成レスポンス."},"SeedSnapshotListItem":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"params_json":{"type":"object","title":"Params Json"},"summary_json":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Summary Json"}},"type":"object","required":["id","name","created_at","params_json"],"title":"SeedSnapshotListItem","description":"スナップショットリストアイテム."},"SeedSnapshotListResponse":{"properties":{"snapshots":{"items":{"$ref":"#/components/schemas/SeedSnapshotListItem"},"type":"array","title":"Snapshots"}},"type":"object","required":["snapshots"],"title":"SeedSnapshotListResponse","description":"スナップショット一覧レスポンス."},"SeedSnapshotRestoreResponse":{"properties":{"task_id":{"type":"string","title":"Task Id"},"message":{"type":"string","title":"Message"}},"type":"object","required":["task_id","message"],"title":"SeedSnapshotRestoreResponse","description":"スナップショット復元レスポンス."},"SeedSummary":{"properties":{"customers":{"type":"integer","title":"Customers"},"suppliers":{"type":"integer","title":"Suppliers"},"delivery_places":{"type":"integer","title":"Delivery Places"},"products":{"type":"integer","title":"Products"},"forecasts":{"type":"integer","title":"Forecasts"},"warehouses":{"type":"integer","title":"Warehouses"},"lots":{"type":"integer","title":"Lots"},"orders":{"type":"integer","title":"Orders"},"order_lines":{"type":"integer","title":"Order Lines"},"allocations":{"type":"integer","title":"Allocations"}},"type":"object","required":["customers","suppliers","delivery_places","products","forecasts","warehouses","lots","orders","order_lines","allocations"],"title":"SeedSummary","description":"作成しようとした件数（UPSERT前）."},"SimulateProgressResponse":{"properties":{"task_id":{"type":"string","title":"Task Id"},"status":{"type":"string","title":"Status"},"phase":{"type":"string","title":"Phase"},"progress_pct":{"type":"integer","title":"Progress Pct"},"logs":{"items":{"type":"string"},"type":"array","title":"Logs"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["task_id","status","phase","progress_pct","logs"],"title":"SimulateProgressResponse","description":"テストデータシミュレーション進捗レスポンス."},"SimulateResultResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"summary":{"anyOf":[{"$ref":"#/components/schemas/SimulateResultSummary"},{"type":"null"}]},"snapshot_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Snapshot Id"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success"],"title":"SimulateResultResponse","description":"テストデータシミュレーション結果レスポンス."},"SimulateResultSummary":{"properties":{"warehouses":{"type":"integer","title":"Warehouses"},"forecasts":{"type":"integer","title":"Forecasts","description":"需要予測データ件数","default":0},"orders":{"type":"integer","title":"Orders"},"order_lines":{"type":"integer","title":"Order Lines"},"lots":{"type":"integer","title":"Lots"},"allocations":{"type":"integer","title":"Allocations"},"cap_checks":{"$ref":"#/components/schemas/CapCheckResult"},"stock_equation_ok":{"type":"boolean","title":"Stock Equation Ok"},"orphan_count":{"type":"integer","title":"Orphan Count","description":"孤児レコード数","default":0}},"type":"object","required":["warehouses","orders","order_lines","lots","allocations","cap_checks","stock_equation_ok"],"title":"SimulateResultSummary","description":"テストデータシミュレーション結果サマリ."},"SimulateSeedRequest":{"properties":{"profile":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile","description":"プロファイル名（small/medium/large_near、Noneの場合はデフォルト）"},"random_seed":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Random Seed","description":"乱数シード（Noneの場合は現在時刻を使用）"},"warehouses":{"type":"integer","maximum":10.0,"minimum":1.0,"title":"Warehouses","description":"倉庫数（1〜10、既定=2）","default":2},"customers":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Customers","description":"顧客数（0以上、Noneの場合はプロファイル既定）","default":3},"suppliers":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Suppliers","description":"仕入先数（0以上、Noneの場合はプロファイル既定）","default":2},"products":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Products","description":"製品数（0以上、Noneの場合はプロファイル既定）","default":5},"lots":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Lots","description":"ロット数（0以上、Noneの場合はプロファイル既定）","default":10},"orders":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Orders","description":"受注数（0以上、Noneの場合はプロファイル既定）","default":5},"lot_split_max_per_line":{"type":"integer","maximum":3.0,"minimum":1.0,"title":"Lot Split Max Per Line","description":"1明細あたりロット分割上限（1〜3、既定=1）","default":1},"order_line_items_per_order":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Order Line Items Per Order","description":"受注明細行の上限（1〜5、既定=1）","default":1},"destinations_max_per_order":{"type":"integer","title":"Destinations Max Per Order","description":"受注の納品先上限（常に5固定）","default":5},"forecasts":{"anyOf":[{"type":"integer","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Forecasts","description":"需要予測データ生成（0=無効, 1=有効, Noneはプロファイル既定）","default":1},"save_snapshot":{"type":"boolean","title":"Save Snapshot","description":"スナップショットを保存するか","default":true},"snapshot_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Snapshot Name","description":"スナップショット名（自動生成の場合はNone）"},"use_last_snapshot":{"type":"boolean","title":"Use Last Snapshot","description":"最後のスナップショットを使用するか","default":false},"case_mix":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Case Mix","description":"ケースミックス比率（API上書き用、合計<=1.0）"}},"type":"object","title":"SimulateSeedRequest","description":"テストデータシミュレーションリクエスト."},"SimulateSeedResponse":{"properties":{"task_id":{"type":"string","title":"Task Id","description":"ジョブID"},"message":{"type":"string","title":"Message","description":"メッセージ"}},"type":"object","required":["task_id","message"],"title":"SimulateSeedResponse","description":"テストデータシミュレーション開始レスポンス."},"StockHistoryCreate":{"properties":{"lot_id":{"type":"integer","title":"Lot Id"},"transaction_type":{"$ref":"#/components/schemas/StockTransactionType"},"quantity_change":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Quantity Change"},"quantity_after":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Quantity After"},"reference_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference Type"},"reference_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Reference Id"},"transaction_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Transaction Date"}},"type":"object","required":["lot_id","transaction_type","quantity_change","quantity_after"],"title":"StockHistoryCreate","description":"Payload for creating stock history records."},"StockHistoryResponse":{"properties":{"lot_id":{"type":"integer","title":"Lot Id"},"transaction_type":{"$ref":"#/components/schemas/StockTransactionType"},"quantity_change":{"type":"string","title":"Quantity Change"},"quantity_after":{"type":"string","title":"Quantity After"},"reference_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference Type"},"reference_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Reference Id"},"history_id":{"type":"integer","title":"History Id"},"transaction_date":{"type":"string","format":"date-time","title":"Transaction Date"}},"type":"object","required":["lot_id","transaction_type","quantity_change","quantity_after","history_id","transaction_date"],"title":"StockHistoryResponse","description":"API response model for stock history entries."},"StockTransactionType":{"type":"string","enum":["inbound","allocation","shipment","adjustment","return"],"title":"StockTransactionType","description":"Transaction types tracked in stock history."},"SubmissionRequest":{"properties":{"source":{"type":"string","title":"Source"},"payload":{"type":"object","title":"Payload"},"meta":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Meta"},"file_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Name"},"operator":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Operator"},"schema_version":{"type":"string","title":"Schema Version","default":"2.2.1"}},"type":"object","required":["source","payload"],"title":"SubmissionRequest","description":"汎用サブミッションリクエスト（v2.2.1）."},"SubmissionResponse":{"properties":{"status":{"type":"string","title":"Status"},"submission_id":{"type":"string","title":"Submission Id"},"source":{"type":"string","title":"Source"},"created_records":{"type":"integer","title":"Created Records","default":0},"total_records":{"type":"integer","title":"Total Records","default":0},"processed_records":{"type":"integer","title":"Processed Records","default":0},"failed_records":{"type":"integer","title":"Failed Records","default":0},"skipped_records":{"type":"integer","title":"Skipped Records","default":0},"error_details":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Details"},"submitted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Submitted At"}},"type":"object","required":["status","submission_id","source"],"title":"SubmissionResponse","description":"汎用サブミッションレスポンス（v2.2.1）."},"SupplierCreate":{"properties":{"supplier_code":{"type":"string","title":"Supplier Code"},"supplier_name":{"type":"string","title":"Supplier Name"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"}},"type":"object","required":["supplier_code","supplier_name"],"title":"SupplierCreate"},"SupplierResponse":{"properties":{"supplier_code":{"type":"string","title":"Supplier Code"},"supplier_name":{"type":"string","title":"Supplier Name"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"}},"type":"object","required":["supplier_code","supplier_name"],"title":"SupplierResponse"},"SupplierUpdate":{"properties":{"supplier_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplier Name"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"}},"type":"object","title":"SupplierUpdate"},"UserCreate":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username","description":"ユーザー名"},"email":{"type":"string","format":"email","title":"Email","description":"メールアドレス"},"display_name":{"type":"string","maxLength":100,"minLength":1,"title":"Display Name","description":"表示名"},"is_active":{"type":"boolean","title":"Is Active","description":"有効フラグ","default":true},"password":{"type":"string","minLength":8,"title":"Password","description":"パスワード（平文）"}},"type":"object","required":["username","email","display_name","password"],"title":"UserCreate","description":"Schema for creating a user."},"UserResponse":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username","description":"ユーザー名"},"email":{"type":"string","format":"email","title":"Email","description":"メールアドレス"},"display_name":{"type":"string","maxLength":100,"minLength":1,"title":"Display Name","description":"表示名"},"is_active":{"type":"boolean","title":"Is Active","description":"有効フラグ","default":true},"user_id":{"type":"integer","title":"User Id"},"last_login_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["username","email","display_name","user_id","created_at","updated_at"],"title":"UserResponse","description":"Schema for user response."},"UserRoleAssignment":{"properties":{"role_ids":{"items":{"type":"integer"},"type":"array","title":"Role Ids","description":"割り当てるロールIDリスト"}},"type":"object","required":["role_ids"],"title":"UserRoleAssignment","description":"Schema for assigning roles to a user."},"UserUpdate":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email","description":"メールアドレス"},"display_name":{"anyOf":[{"type":"string","maxLength":100,"minLength":1},{"type":"null"}],"title":"Display Name","description":"表示名"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"有効フラグ"},"password":{"anyOf":[{"type":"string","minLength":8},{"type":"null"}],"title":"Password","description":"パスワード（平文）"}},"type":"object","title":"UserUpdate","description":"Schema for updating a user."},"UserWithRoles":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username","description":"ユーザー名"},"email":{"type":"string","format":"email","title":"Email","description":"メールアドレス"},"display_name":{"type":"string","maxLength":100,"minLength":1,"title":"Display Name","description":"表示名"},"is_active":{"type":"boolean","title":"Is Active","description":"有効フラグ","default":true},"user_id":{"type":"integer","title":"User Id"},"last_login_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"role_codes":{"items":{"type":"string"},"type":"array","title":"Role Codes","description":"割り当てられたロールコード"}},"type":"object","required":["username","email","display_name","user_id","created_at","updated_at"],"title":"UserWithRoles","description":"Schema for user with assigned roles."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WarehouseAllocOut":{"properties":{"warehouse_id":{"type":"integer","title":"Warehouse Id"},"quantity":{"type":"number","title":"Quantity"}},"type":"object","required":["warehouse_id","quantity"],"title":"WarehouseAllocOut"},"WarehouseCreate":{"properties":{"warehouse_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Warehouse Id"},"warehouse_name":{"type":"string","title":"Warehouse Name"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"is_active":{"type":"integer","title":"Is Active","default":1}},"type":"object","required":["warehouse_name"],"title":"WarehouseCreate"},"WarehouseListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/WarehouseOut"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"WarehouseListResponse"},"WarehouseOut":{"properties":{"warehouse_id":{"type":"integer","title":"Warehouse Id"},"warehouse_name":{"type":"string","title":"Warehouse Name"}},"type":"object","required":["warehouse_id","warehouse_name"],"title":"WarehouseOut"},"WarehouseResponse":{"properties":{"warehouse_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Warehouse Id"},"warehouse_name":{"type":"string","title":"Warehouse Name"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"is_active":{"type":"integer","title":"Is Active","default":1}},"type":"object","required":["warehouse_name"],"title":"WarehouseResponse"},"WarehouseUpdate":{"properties":{"warehouse_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Warehouse Name"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"is_active":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Is Active","default":1}},"type":"object","title":"WarehouseUpdate"}}}}